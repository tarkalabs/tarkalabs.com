<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Hotstar - Tarka Labs</title><meta name="gridsome:hash" content="085931276ffc9cc9e8edec7f0cf1549cbde2cca4"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="viewport" content="width=device-width, initial-scale=1.0"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.92f6d0f06feb6aec5e019521ff224fd8.png"><link rel="preload" href="/assets/css/0.styles.14bd5767.css" as="style"><link rel="preload" href="/assets/js/app.62e9bedb.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--case-study-vue.be0b1fb9.js" as="script"><link rel="stylesheet" href="/assets/css/0.styles.14bd5767.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
    <noscript>
      <div class="noscript-container">
        <a href="/" class="noscript-logo">Tarka <br />_Labs</a>
        <div class="noscript-text-container">
          <h1>Uh oh! Looks like <span>JavaScript</span> is disabled.</h1>
          <p>
            Bitman requires <span>JavaScript</span> to fuel his thirst to end
            bad UX and lazy design, which is necessary to give you the best
            viewing experience possible. Please enable it to continue to our
            website.
          </p>
        </div>
      </div>
    </noscript>
  </head>

  <body >
    <div><div id="app" data-server-rendered="true" data-v-b5a9baaa><div data-v-b5a9baaa><div id="banner-section" data-v-b5a9baaa><div class="banner" style="background:;display:;" data-v-b5a9baaa><div class="layout" data-v-b5a9baaa><div data-v-b5a9baaa></div><div class="hero heading-size-5" style="color:#ffffff;" data-v-b5a9baaa>
    How to build mobile user interfaces that are fluid?
  </div><div data-v-b5a9baaa></div></div></div><div data-v-b5a9baaa></div></div><div class="sidebar" data-v-d6d2017e data-v-b5a9baaa><div class="nav" data-v-d6d2017e><div class="fixed" data-v-d6d2017e><a href="/" data-v-9b1a4c9c data-v-d6d2017e> TARKA<br data-v-9b1a4c9c>_LABS </a><div class="menu" data-v-50705736 data-v-d6d2017e><div class="control" style="stroke:black;" data-v-50705736><div class="spinner heading-size-9" data-v-48940e1e data-v-50705736><span class="side-menu-symbol" data-v-48940e1e><span class="menu-symbol rotate180t90" data-v-48940e1e><svg height="10" width="10" data-v-48940e1e><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-48940e1e></line></svg></span><span class="menu-symbol rotate90t0" data-v-48940e1e><svg height="10" width="10" data-v-48940e1e><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-48940e1e></line></svg></span></span><span class="Spinner-text" data-v-48940e1e> menu </span></div><div class="active-page body-jetbrains-size-11 fade-in" data-v-4767b8ae data-v-50705736>
  
</div></div><div class="items hidden" data-v-50705736><ul class="main-nav" data-v-d9c1f9da data-v-50705736><div class="primary fadeOut sidebar" data-v-d9c1f9da><li data-v-d9c1f9da><a href="/design" data-v-d9c1f9da>/Design</a></li><li data-v-d9c1f9da><a href="/develop" data-v-d9c1f9da>/Develop</a></li><li data-v-d9c1f9da><a href="/projects" data-v-d9c1f9da>/Projects</a></li><li data-v-d9c1f9da><a href="/careers" data-v-d9c1f9da>/Careers</a></li><li data-v-d9c1f9da><a href="/about" data-v-d9c1f9da>/About</a></li><li data-v-d9c1f9da><a href="/contact" data-v-d9c1f9da>/Contact</a></li></div></ul><ul class="sub body-jetbrains-size-11 fadeOut sidebar" data-v-1fd061a8 data-v-50705736><li data-v-1fd061a8><a href="/train" data-v-1fd061a8>/train</a></li><li data-v-1fd061a8><a href="/talks" data-v-1fd061a8>/talks</a></li><li data-v-1fd061a8><a href="https://medium.com/tarkalabs" target="_blank" rel="noopener" class="external" data-v-1fd061a8>/blog</a></li></ul></div></div><a href="/contact" class="heading-size-9" data-v-573e12d8 data-v-d6d2017e>
  Get in<br data-v-573e12d8>touch<span class="arrow" data-v-573e12d8>-&gt;</span></a></div></div><div class="nav overlay-menu" data-v-d6d2017e><div class="fixed" data-v-d6d2017e><a href="/" style="color:;" data-v-9b1a4c9c data-v-d6d2017e> TARKA<br data-v-9b1a4c9c>_LABS </a><div class="menu" style="color:;" data-v-50705736 data-v-d6d2017e><div class="control" style="stroke:black;" data-v-50705736><div class="spinner heading-size-9" data-v-48940e1e data-v-50705736><span class="side-menu-symbol" data-v-48940e1e><span class="menu-symbol rotate180t90" data-v-48940e1e><svg height="10" width="10" data-v-48940e1e><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-48940e1e></line></svg></span><span class="menu-symbol rotate90t0" data-v-48940e1e><svg height="10" width="10" data-v-48940e1e><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-48940e1e></line></svg></span></span><span class="Spinner-text" data-v-48940e1e> menu </span></div><div class="active-page body-jetbrains-size-11 fade-in" data-v-4767b8ae data-v-50705736>
  
</div></div><div class="items hidden" data-v-50705736><ul class="main-nav" data-v-d9c1f9da data-v-50705736><div class="primary fadeOut sidebar" data-v-d9c1f9da><li data-v-d9c1f9da><a href="/design" style="color:;" data-v-d9c1f9da>/Design</a></li><li data-v-d9c1f9da><a href="/develop" style="color:;" data-v-d9c1f9da>/Develop</a></li><li data-v-d9c1f9da><a href="/projects" style="color:;" data-v-d9c1f9da>/Projects</a></li><li data-v-d9c1f9da><a href="/careers" style="color:;" data-v-d9c1f9da>/Careers</a></li><li data-v-d9c1f9da><a href="/about" style="color:;" data-v-d9c1f9da>/About</a></li><li data-v-d9c1f9da><a href="/contact" style="color:;" data-v-d9c1f9da>/Contact</a></li></div></ul><ul class="sub body-jetbrains-size-11 fadeOut sidebar" data-v-1fd061a8 data-v-50705736><li data-v-1fd061a8><a href="/train" style="color:;" data-v-1fd061a8>/train</a></li><li data-v-1fd061a8><a href="/talks" style="color:;" data-v-1fd061a8>/talks</a></li><li data-v-1fd061a8><a href="https://medium.com/tarkalabs" target="_blank" rel="noopener" class="external" style="color:;" data-v-1fd061a8>/blog</a></li></ul></div></div><a href="/contact" class="heading-size-9" style="color:;" data-v-573e12d8 data-v-d6d2017e>
  Get in<br data-v-573e12d8>touch<span class="arrow" data-v-573e12d8>-&gt;</span></a></div></div></div><div class="baseLayout" data-v-996dafb6 data-v-b5a9baaa><div data-v-996dafb6></div><div data-v-996dafb6><div class="casestudy" data-v-996dafb6><div data-v-996dafb6><style>
  figure {
    text-align: center;
  }
  .casestudy figure img {
      height:600px; 
      width: auto !important;
    }
</style>
<h1 id="brief"><a href="#brief" aria-hidden="true"><span class="icon icon-link"></span></a>Brief</h1>
<h2 id="we-joined-hands-with-hotstar-in-augmenting-their-team-to-build-their-next-generation-mobile-experience"><a href="#we-joined-hands-with-hotstar-in-augmenting-their-team-to-build-their-next-generation-mobile-experience" aria-hidden="true"><span class="icon icon-link"></span></a>We joined hands with Hotstar in augmenting their team to build their next generation mobile experience</h2>
<p>Hotstar is an online video streaming platform that offers a variety of content, including drama, movies, and live sports. It is owned by The Walt Disney Company India and operated by Disney Streaming, both part of Disney Entertainment. Hotstar is one of the dominant streaming services in India, with over 300 million active users.</p>
<p>In their mission to build next generation mobile experience, Internal design team redesigned their mobile app for better user experience and to improve the user retention.</p>
<p>As experts in iOS development, we were engaged to enrich their internal team to make this redesign a reality with sound software development principles.</p>
<figure>
  <img src="/hotstar/one.png" alt="Hotstar mobile app view" />
</figure>
<h1 id="challenges"><a href="#challenges" aria-hidden="true"><span class="icon icon-link"></span></a>Challenges</h1>
<h2 id="how-will-you-organise-fluid-design-components-that-are-composable-customizable-and-reusable"><a href="#how-will-you-organise-fluid-design-components-that-are-composable-customizable-and-reusable" aria-hidden="true"><span class="icon icon-link"></span></a>How will you organise fluid design components that are composable, customizable and reusable?</h2>
<p>The mobile application was designed with motion design principles. This means, every component will animate in harmony with other components based on the user interations like scroll, swipe and click. Building an iOS mobile application that is interaction rich with reusable components is not a simple task as it would need proper abstraction and well planned component composition.</p>
<h2 id="how-will-you-handle-different-animations-happening-at-the-same-time"><a href="#how-will-you-handle-different-animations-happening-at-the-same-time" aria-hidden="true"><span class="icon icon-link"></span></a>How will you handle different animations happening at the same time?</h2>
<h3 id="gesture-based-animations"><a href="#gesture-based-animations" aria-hidden="true"><span class="icon icon-link"></span></a>Gesture-based animations</h3>
<p>We needed to implement both vertical as well as horizontal animations that could be triggered by a scroll gesture from the user. The type of animation in each direction was different - vertically, we needed a parallax animation, whereas horizontally, we needed a pan animation with crossfading and movement offsets.
Apart from the above, we also needed to support a slow panning gesture as well as a fast flick gesture, and also needed to auto-complete the animation when the pan gesture crossed a particular threshold. </p>
<h3 id="timed-animations"><a href="#timed-animations" aria-hidden="true"><span class="icon icon-link"></span></a>Timed animations</h3>
<p>Not only did the animations need to work when the user performed a scrolling action, they also needed to run on a fixed timed interval that was determined on the backend. We needed to ensure that the user-triggered and automated animations did not conflict with each other in any way.</p>
<h3 id="smooth-animations"><a href="#smooth-animations" aria-hidden="true"><span class="icon icon-link"></span></a>Smooth animations</h3>
<p>To ensure that the animations were smooth without any perceptible lags or hiccups, we needed to synchronize the animation with the device's refresh rate, whether it was 60hz or 120hz on the latest models.
Reversible animations
We needed to ensure that the animation could be reversed to the starting position, if the user did not complete the pan gesture fully.</p>
<h3 id="infinite-scrolling"><a href="#infinite-scrolling" aria-hidden="true"><span class="icon icon-link"></span></a>Infinite scrolling</h3>
<p>If the user reached the end of the list of items in the masthead on either side, we needed to allow them to loop back to the start or end again.</p>
<h1 id="solution"><a href="#solution" aria-hidden="true"><span class="icon icon-link"></span></a>Solution</h1>
<p>Given the multiple requirements and challenges, the solution was not as simple as just using the UIView animateWithDuration APIs to drive the animation. Here’s how we implemented it</p>
<h2 id="ui-view-hierarchy"><a href="#ui-view-hierarchy" aria-hidden="true"><span class="icon icon-link"></span></a>UI view hierarchy</h2>
<p>We used a simple UITableView to host the contents of the home page, including the masthead component. UICollectionView was a no-go, because improvements that would allow us to use it for list-like UI, such as compositional layouts, were only introduced in iOS 13. This also meant that we had to use UIKit, and not SwiftUI as that was also an iOS 13 introduction.</p>
<p>Within the table view, each cell contained a separate component, and the masthead component was one such. The masthead itself consisted of a horizontally scrolling collection view. </p>
<figure>
  <img src="/hotstar/two.png" alt="Hotstar mobile app view" />
</figure>
<h2 id="implementing-the-vertical-scroll-parallax-animation"><a href="#implementing-the-vertical-scroll-parallax-animation" aria-hidden="true"><span class="icon icon-link"></span></a>Implementing the vertical scroll parallax animation</h2>
<p>Because the root view was a table view, we were able to listen to UIScrollView delegate methods and obtain the scroll offset using the <code>scrollView:didScroll</code> method. The current scroll offset was broadcast as an event using RxSwift, and was listened to by the masthead component. The component then further broadcast it to the current visible cell of the internal collection view, where we updated the auto layout constraints to move the necessary subviews in the opposite direction of the scroll, giving a parallax effect. </p>
<p>We used RxSwift instead of say NSNotifications, as the former allowed us to expose a type-safe BehaviourSubject containing a CGPoint of the current vertical offset. With Notifications, we would’ve needed to package the CGPoint in an untyped [String: Any] userinfo dictionary, and then cast the value when consuming the notification.</p>
<figure>
  <img src="/hotstar/three.gif" alt="Hotstar mobile app view" />
</figure>
<h2 id="implementing-the-user-triggered-horizontal-animation"><a href="#implementing-the-user-triggered-horizontal-animation" aria-hidden="true"><span class="icon icon-link"></span></a>Implementing the user-triggered horizontal animation</h2>
<p>The first thing we did to support the custom animation that we wanted is to disable scrolling on the internal collection view, because we simply did not want the default scroll experience. </p>
<p>Instead, we used a separate pan gesture, and manually transformed the collection view cells and its subviews when the gesture updated, to make it look like the collection view was scrolling during the animation. </p>
<p>Whenever the pan gesture updated, we did the following:
We stored the “translation” of the pan gesture, aka the distance that the user has moved using the gesture
To ensure that the animation happened without any jitters or dropped frames, we used a CADisplayLink to drive it. When a display link is configured and added to the runloop, it gives us a callback everytime the screen is refreshed. In this callback, we calculated the progress of the animation based on the translation stored above. Since this happens on every refresh, no frames are missed out or dropped.
We then broadcast the progress to two individual cells - the current cell being animated out, and the next cell being animated in. They update their subviews accordingly - for example, the current cell would animate out the title to the side, and fade out its poster image. The next cell would animate in the title from the side, and fade in its poster.</p>
<p>Once the animation was complete, we then scrolled the collectionview to the new indexPath, albeit without any animation of its own, so that its internal state is up-to-date with what is on screen. </p>
<figure>
  <img src="/hotstar/four.gif" alt="Hotstar mobile app view" />
</figure>
<h2 id="implementing-the-automatic-horizontal-animation"><a href="#implementing-the-automatic-horizontal-animation" aria-hidden="true"><span class="icon icon-link"></span></a>Implementing the automatic horizontal animation</h2>
<p>We used a Timer instance to automatically scroll the masthead on a fixed interval, when the user wasn't actively scrolling it.</p>
<p>When the timer got fired, we simply unpaused the display link, allowing it to drive the animation from start to finish. Instead of using a gesture’s translation to calculate progress, we used the display link’s timestamp during each of its callbacks, to determine how much time has elapsed, and then using the animation’s total duration, we arrived at the progress. Once the animation was completed, we scheduled the timer again, so that it can run one more time as needed.</p>
<p>In some cases, we did not want the timer to fire. For example, if the user was performing some other action such as scrolling the tableview, we did not want to distract them with an auto-scrolling masthead. To achieve this, we added the timer to the main runloop using the default mode, as opposed to the common mode. In the default mode, the runloop is blocked by other events on it - in this case pausing the timer.  As an extra precaution, we also added a check to prevent it from activating whenever the pan gesture to manually scroll horizontally was active. </p>
<h1 id="outcome"><a href="#outcome" aria-hidden="true"><span class="icon icon-link"></span></a>Outcome</h1>
<p>The redesigned UI of our client’s mobile app with a homepage layout consisting of both parallax vertical animations and a custom horizontal scroll transition is now available on iOS. In this day and age, it is critical for mobile apps to stand out with a polished UX that delights users, and we helped our client achieve just that with our implementation of the Masthead component</p>
</div></div><div class="tech-used" data-v-996dafb6><div class="tech-used" data-v-27e1a6eb><h3 data-v-27e1a6eb>_tech<br data-v-27e1a6eb>used</h3><div class="icons" data-v-27e1a6eb><span data-v-27e1a6eb><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-baa513e9db921bf7bedebf95e902f217'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-baa513e9db921bf7bedebf95e902f217)' width='48' height='48' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAI8klEQVR42u1bCWwUZRQuNEgLtIgcLRQqKFauGmINFKhEBEEokigQMQYPImLBI7YeBAVN8IwXCGKQgJJKQYVEsSGCN9IWRVFOAyJtOSqUtmu7vdvd8fvoWxh%2bZre77T9bBF7y8s/Mzsz/5v3vfv%2bGhFyGCw8Mwwjo%2bmW4iOEKrPr1wHizFFxSkoCPvam%2bvn4GxmSchl0SKmH%2bMBxfDZxdXFy8EeNkYJdLzi7gI%2bOAWx0Ox1GMr%2bBS1AVloe1aBc97MbYD3gU8AnWowbguJiYmvsWkABO2AlIfw4Gtg0RIR7z/y6qqKsPtdlfheA1wFK631Tq/nytMBkSIaHbnuV1MUOzBo8A9xln4BDhOOxMCIG4sRHIcxtggTdkHc31knAs/UD10f1gosKPVaigcpp%2b%2bF/gyjmODsQp49xMwhg7P19fV1bkwbIOXuB0/t9GpCjQ8Q4F9fDEBxwOBzwDfBSbaYROU%2bW5zuVxfm0UANqEOw1fAW7kozZpfmewO4FSJxLy%2bGOc3cBWAS0kgmWdX5JaQkNAb73vB/P2m44%2bBSVo9FF6QIsZmiNnYKNAWv98M/Bv4B3C6zbZngvLhZliJW3pr8wI4j2EkBvwV%2bBAudfJybxjOF0A8D2A8BEwbP358BzviBUocxP5gbW1tvSoFuH4KwxLcFqqTCXR3HwJ/pMEDDrC6d8KECbE4X15YWEid/BM4n8mMLiaYAiPOsw5YaqEGhizAfcD2zZrT9CD9/HXUc6fTeQTjMmFCG4tnRgE3kwow4l8Mb9NQ6vTVeL4r3O%2bzGAuUDz/NCEhGHQImSmyCVgnMycm5hdYWrscQaRjmhcDRwONQB6OystIlvnq4DxsSECQmJnaAqDMxOmz4hnlm96xDHRgBTgOHc0T/GJXNxnVV168UETwuhFQD9wKfjo2N7anBQ7RhmixqZlhJAQELQAbdrzs85sfNAAOOAg0hYgFwkPJYJ1x7B3jCRBwN5GvAG5srmmKcd3mxAapX6KNFDUxGiB/3EvCYcLoMwyKKucfwEOLi4uJpPKurq10eamBDSjCslhVs11RGpKSkhOP%2b37x8tJkhlNLHtUep0EESsLK8vPxMWAp954rMVAzeOEjKFjN1MGC1IjmTJKNs6oL83IgNIE0cNoPeMC2qoESK1wJXyCSG2IVcukL83M9030QwKq%2bmpubMytBSi7uaj1ti/LULyvxZhn9A1RuLR9ppT5dxPhL4mRKbl0hYOkXqeK2ZxHhURoHDoj4jzXmEP%2bKK33Ma%2bXAPw4uAbwCjdYXHVkz4Hbagzjw7Vjkbw8MycYTED6dUKiEZfG491UXNQn30CJiJ7vBn%2beG2a7Aov%2bCwv13heTgmGIMJ9qmTIyChNKTj9zjG6EyYGB9YQUVFRR5dJT2NHzaoK5lu%2bA%2b1ki3aVh8MF9%2b/QzF4hoSsjMxSs7KyGMC8bmWxxUbQba7LyMgYYeF9PJdC4U0Gmhju9kMNCCl4trOdTGDd7jEvAYrHJX0gDPjGFMurIkur%2bgXwQSm5qdCefQIxooafdoCw2CJe0c6EHjh/CnjSigjEBLUiuiuAeRBlldgzF8rKyvZJsaWPOe9gbwDPpZkiTb8A0rhRuxp4YUg0CGTEV%2biDHpcYxDJfRMOGVLAaDBxsKnnF4v3MTh2BMACumGo4OVgdne50b1jxf7yI42lp58L4EluRkAoptDwp3oRh8AFTPcAvKC0tzdWSGwTAhAHMBxAoFXoT80aMmHqdKvEqS2LwJNVGgOBwOBgPPGI7AxQmxIv/d/jxwd6Y4Da5ymp4gKKmvKukpKScRrol2mm9IcqrA9VZ3QAGVJoTI9vVQJEENjVWYfWaKglGAKrTcirQiDokMBKEZT/RDCY0GWAEDzVasbajt2fRSFmsFErcwWAG3CDzgTtDWhpARBRswosKE2wHuM3NkhafQ8wYb9VT3a0tRRKiJEXe1xy9DhDel4DqLGzfvn2odFqeZ3dHrdzqbm0p74qWdHmrVJrtYIL5XXMwZxeVJnZ0hkMkWV9LB95Dt2XVHdYlFRYdJfYgtzI0VmoKOhlRr4r/GTqSk5M9dfZcGAre%2bK2ktp2DZBZay2aoZUiJC2wSf6fsKPG6Koyx54ERnhSTxYnvuSkpPz//nLZzcyTCl0rl5eXdLQ0XO4ALu1FKb2dpNxMTERHRk%2bVuhJslUu6m5WQrbJO0uKivozMzM/tq6vJESGt9CvA54FrpMBt22AAEQswf3qTt8ZXADJLNDkUWgUQBcupN0iDlag0B9pMoj3WArtIziExPT49ITU3lB0ZKp6iLZHHXSJLEZx8AvgeG7/RUlm2KC8zv2S2VoVa%2bxLQXVGGJFROU6q9T3NjnOF4EnIfjWZAcGtKpOJ8CnAbkTs80CYAypUzNQqXbCDLIlD8BuzWWynK1FuJj8hoJLupwj1OKGzRgR6Q3cFiQx/lSvSnCveWN5PF2MsXzbtKSep6R99L4oG7ut5HIYEqB21Mml65Sf3/8dHeJ2PZj9WpakHi9LqGhXD0xkLo/9wZsQybnMi4eWBhoxNYfOBfB0u4LVBLcfvxuvmd9U9pg3SVK/BS6VHgB6LTbwl1XY5FOOZ3OYhzX%2bXh%2bV5N6gYSkpKTBsgGCOUQRLLvLXwJ1rzIWwi0u%2by/JKdbKnsVl0nNkE/Uw1LjC3JbD%2bUkdic1g2fWRqzZHgwjH8DFLJdaPtKDxKsl1tmChzH0IR7M7w7JfJ0oYMQe4ASHnCY1uz1KKkDSxy5QlnSOm9DEhyl9q1I1VkuWmQj32SKhfpa3AIcBwlztGZwHfkuRjFyYs8tYRDrCmVyV9xw1Gw3bZSfiwHr7os7Bh3YyG3a974dGOaa/5mSUjOzt7hEgFdfE76e4clEyzQKJHVolLGU3CNVNHWbvn/sJi6S8ekWd2Gg2bI9MyMjKGBJKZqgsmmS8jwTXBrAOGSs7PzRTcYj%2bXrTPo5irgWsknuJcoE2MGcDmYwY1YM%2bWZ6GZtfz1/fwFrEMPs7hSr0EriiUjJHJlB9hLGMKPsK9kiz5mas2TWyZduB1KPUKV1%2bvTpYcFYeTtrii1Oz2W4DP9z%2bA%2bsSsIip%2bKzyAAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="48" data-src="/assets/static/swift.f8b3168.d643a8e67edf74570477b3f43d26250a.svg" data-srcset="/assets/static/swift.f8b3168.d643a8e67edf74570477b3f43d26250a.svg 48w" data-sizes="(max-width: 48px) 100vw, 48px" class="g-image g-image--lazy g-image--loading" data-v-27e1a6eb data-v-27e1a6eb><noscript data-v-27e1a6eb data-v-27e1a6eb><img src="/assets/static/swift.f8b3168.d643a8e67edf74570477b3f43d26250a.svg" class="g-image g-image--loaded" width="48"></noscript></span><span data-v-27e1a6eb><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-657dc04a5aea14fa281fbacece5dcaa2'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-657dc04a5aea14fa281fbacece5dcaa2)' width='48' height='48' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIDklEQVR42u1baWxUVRQeUdBBNhUUF1BBtEI0KhITkYTNogZEESMaE5cghs26oAZLVECZWmwDasWAbPGHyw9kE2PqFkTcqOAKuBWwKAVa2s50ZjrLe35f57xyebx5M21nOnYeN/ly38y77757zj3n3HPOfdflsim6rpv/OtXj8QytqamZE4lENkSj0W2apu0D6vUMFL6X7%2bc4OB6Oq6CgYCjHmYAOe6ItHjgN/10EjABmAsuBrcBuoBKDCGSIAXxvpYxjq4yL4xsJXAJ0ToK2hKULHhoNvAfU6O2ggDE%2bVKXAOIy/W4tnH9djgNXAHnRam8y724rGRA2gElTLvcBKTqCtFBh/KPXpwF3AhkAg4M0QkSlhTjAYrEO1DrjTUAkzveZZJ/G3%2b3y%2bHaFQyNypprePcsx4SQfo%2bR6Xt5E%2bW%2bNITknjrCter/dHVJPiLnW4zgXWKzPfnmY9oUqEw2Fd1GG0lQ3sSoNn0nktSyZfM9mElaRXnfnOwC1iNbOJ8HiM2MMVbsmSJW6DAf2BTfCofLoDCuiklK8H%2bhleHj2nbBR9uyWSqjDCVVJSMgwXjziAeCv6ZriOHDnyLC5W6M4sy1yMoiSQcGLZ4oJBoNPzm0MZsMuFIKcCFwcdyoBKlyQVAk6kHnT7XbrDi6udhbopXwpdzX0gg0mQNpGARFkWhonVNJpYPSLQIS1FTLHLN7SkLy0tDAC9XC6XAUUAs8HhbLMBico04Fw9liGm%2b/y33YzBy4yg%2bhKYD9wrEedNeiw99QTwDsLvAzYz3nRdW1sbZcAG5OuxdN0Ywd3AC36/fwv60pKQqFYxYCqCp45Ap1Ao9Ch%2bV1gNHqrCwf4CLCDBaN/HIv/QA/eu02Np7A319fVRK8JBFKs/gOeBUXiul0Vf5%2bPeOKAEKG%2bO%2bjSXARuBh4B7gE8An/lFsA26eJaPMdKUcJsR58XAIOAKYADQS8lH3AB8TnotBk4mv4RmJ0tbMm4gMBi4BrgU6KYw4pWGhoZQulQgYQkGg0yqvGgQV1xcfB5%2b3w98DObsg3RwI6MM9qMYdY40O0WI%2bcGiy5WKBF2I33MhFUxohNFXJBwO/4TrObokOykl%2bPuDtDAAYu%2bDLh6urq4%2bxLw7iIhazNgqhNh9ZcB98buQLifbY2Y05htDsaTjIeBTYKy07ciZxq0mu%2bL1NqYoZiuSUgwmVqg5S8nz/doY2h5tNy1dEkDOzgLy9NjOyzF7Bhgwd45mKgOZLekny%2bLzNWrQGzk5OX2kPbfePjTuV1VVBU2ElQrB5gwPje124GWxFWvSxYC5NF40ghDDQnMQhf%2boxzfLYM8Cvklivd8BTBEa3dRhZRWhhM1SGLAQ%2bBNMCKbAgWsRAzzUR9Q9If6LUR823V8KXIk2J%2bE%2bl6jfE3UIqeGW23KFyHyTf1VkGEAUMnUyVICM9to4YmnzAxIxYMGECROo99xdmqr4CXEHKiJdqjBgJmZe3W5nvmKycr%2brrCJDDB8AY9mEZw4n6VmmlQH5uH826u4wetT/f5Ls92v96H7dFBBzUFErv2SsphjSpToAubm5fcV2PKzHNkLLM6kCZMA5ZAAM09PNYMDWeAwwfAusPvtpMIFJwNUiBb1pjxR%2b9BNDWJksE1LNAE9RURHd5M4yY/sSdQgPkNUmRcTzsMwGbOIRElQFbIaUvYp6YmFh4QXK8zliLDNiA/gtwWAZyFBxYW1nAUaQ/sBrCgHPJRoEJQK2IyDvp6f4EXCHfnT7e2yyBjKlDIC%2bbkM1XgZxJt1l8eXNoao6uK84i0L/GSLmRqEq/EzPEQSXx4s%2bJY5YS3db3k0VCbY5A6C7ftO6PUu8tHieZQPFlcubtB8n3qEx02SoB3hA6oo47jeaRrcbrrXECfWZUAGWt9FmoOLYzIGYV1tJsh7bkBnChuivA/0IeIdNbRHi0jjeKvcZBK1BXw0WfR3A/flGgMVn2toGaIqR4n%2bvS9hseIS5khN4C/ffRb1YIsr%2bwqgOEuPvNIl2SFYWQ6IGyHK3GnFFKdSL7vibwIPMU0ibQZK0ScsqME%2b8MTcGsFACGqvCiPAZ4DJliWJUeBVwrUI4S3f8vg/4AmiwGPR3JFpccJZO9Adk7R8OXG4shZKoKYC92J8uCaCBGiZe2CrJDx7ne9MA16HIcjQKYBjbU7w4eok0dn2EkMfBzG/j5fTEU9wtM0/j1lvif7eoWA/pa4hEnn%2bl0xGiJd4syQuu8ckkHmjJP8Nzi2Co8sVDLNBj3x3uxX/NySvuYhoNTJmH%2bkn09RRAorm/eQjviKQ1FsALQhiwHy/1c0mKs9Zqpkwy4Rd1%2bVe8w4P87hCrgJYgetNMqwYJZPDEPOJ%2bpS8v39OSTHK69wW0FPTf3NS41hoJOLEz5LRCB8PHXVInEt%2b4O8zv7U3ho5PKAX4hUqY79wuRnSe%2bEUIEx02F5Q5lwFKXx%2bO5HhczHLQUqvRNN3ZkGFQ47UtRepTDjTCTycSN8g2tE5Y/BmrvGxkkV1lZmVti9nKHSAC363IlomwqDFNXBAKBuixUBfW8gLET1cXqxAiPx61DfJ5N8YE5t8Dk6Ui7o3PZfGaI3x9Msj0iq8c2NcaTCdlyaowSDXro8VqfGtOPPzdIJvBDprVyxqY9qYT53GCtWPyJerxzgzYnR2kTmLrek%2bQS%2bb85OSrjLRcvd2Rrzg93kSWSZ2zq2okK1Imxu7HJ2rfm9HheXp5bnCV6jNP1WN59ix5LUlZmKp8g762UcXA8S2V8w8XJcSei7T%2bYJgVWjY4eDwAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="48" data-src="/assets/static/ios.f8b3168.96d29fc8215812a011ea17d7d2a80018.svg" data-srcset="/assets/static/ios.f8b3168.96d29fc8215812a011ea17d7d2a80018.svg 48w" data-sizes="(max-width: 48px) 100vw, 48px" class="g-image g-image--lazy g-image--loading" data-v-27e1a6eb data-v-27e1a6eb><noscript data-v-27e1a6eb data-v-27e1a6eb><img src="/assets/static/ios.f8b3168.96d29fc8215812a011ea17d7d2a80018.svg" class="g-image g-image--loaded" width="48"></noscript></span></div><div class="body-jetbrains-size-10" data-v-27e1a6eb>
    SWIFT  /  IOS
  </div></div></div><div class="lets-talk" data-v-996dafb6><div class="lets-talk" data-v-220ed1ac><div class="message heading-size-7" data-v-220ed1ac>
    Let’s build something
    <br data-v-220ed1ac>
    great together.
  </div><div class="action-container" data-v-220ed1ac><div class="action-button heading-size-5" data-v-220ed1ac><div data-v-220ed1ac>Get in touch</div><div class="arrow" data-v-220ed1ac>-&gt;</div></div><img src="/assets/img/talk.71d1d2f3.svg" alt="Lenny Face" data-v-220ed1ac></div></div></div><div class="other-projects" data-v-996dafb6><div class="projects" data-v-665d3c9f><h3 data-v-665d3c9f>_case studies</h3><div data-v-665d3c9f><div class="group" data-v-149b588c data-v-665d3c9f><div class="col" data-v-149b588c><div class="item" data-v-149b588c><a href="/works/tunecore" target="_blank" class="project" style="color:#ffffff;" data-v-e0fea222 data-v-149b588c><div class="video" data-v-e0fea222><video src="/assets/files/tunecore.e8fdde1d12ece295df7050593ee7e590.mp4" muted="muted" autoplay="autoplay" loop="loop" data-v-e0fea222></video></div><div class="header" data-v-e0fea222><div data-v-e0fea222><div class="title heading-size-8" data-v-e0fea222>Re-engineering the mechanics of music distribution with faster transcoding.</div><div class="desc heading-size-9" data-v-e0fea222>/TuneCore</div></div></div><div class="footer body-jetbrains-size-10" data-v-e0fea222><ul class="services underscore" data-v-e0fea222><li data-v-e0fea222>Frontend development</li><li data-v-e0fea222>Backend development</li><li data-v-e0fea222>Devops</li><li data-v-e0fea222>Design</li></ul><div class="tech" data-v-e0fea222>
      Ruby / Rails / React / Storybook / AWS
    </div><div class="expand heading-size-6" data-v-e0fea222>+</div></div></a></div><div class="item" data-v-149b588c><a href="/works/abridge" target="_blank" class="project" style="color:#000000;background:#FC5D2B;" data-v-e0fea222 data-v-149b588c><!----><div class="header" data-v-e0fea222><div data-v-e0fea222><div class="title heading-size-8" data-v-e0fea222>Implementation of interactive healthcare technology in medical landscape for better information flow.</div><div class="desc heading-size-9" data-v-e0fea222>/Abridge</div></div></div><div class="footer body-jetbrains-size-10" data-v-e0fea222><ul class="services underscore" data-v-e0fea222><li data-v-e0fea222>Mobile development</li></ul><div class="tech" data-v-e0fea222>
      Swift / Kotlin / AVAudioEngine / MediaCodec
    </div><div class="expand heading-size-6" data-v-e0fea222>+</div></div></a></div></div><div class="col right" data-v-149b588c><div class="item" data-v-149b588c><a href="/design/beatclub" target="_blank" class="project" style="color:#ffffff;" data-v-e0fea222 data-v-149b588c><div class="video" data-v-e0fea222><video src="/assets/files/beatclub.2a18a3484b292325c3d5a6468f4ec96f.mp4" muted="muted" autoplay="autoplay" loop="loop" data-v-e0fea222></video></div><div class="header" data-v-e0fea222><div data-v-e0fea222><div class="title heading-size-8" data-v-e0fea222>A next-generation music discovery, collaboration, and licensing platform for artists &amp; producers.</div><div class="desc heading-size-9" data-v-e0fea222>/Beatclub</div></div></div><div class="footer body-jetbrains-size-10" data-v-e0fea222><ul class="services underscore" data-v-e0fea222><li data-v-e0fea222>Art direction</li><li data-v-e0fea222>Web &amp; app design</li><li data-v-e0fea222>Information architecture</li><li data-v-e0fea222>Prototyping</li></ul><div class="tech" data-v-e0fea222>
      Figma / After Effects / Illustrator / Photoshop
    </div><div class="expand heading-size-6" data-v-e0fea222>+</div></div></a></div><div class="item" data-v-149b588c><a href="/works/cls" target="_blank" class="project" style="color:#ffffff;background:#FF2C00;" data-v-e0fea222 data-v-149b588c><!----><div class="header" data-v-e0fea222><div data-v-e0fea222><div class="title heading-size-8" data-v-e0fea222>How do you bring enterprise labelling into the collaborative age?</div><div class="desc heading-size-9" data-v-e0fea222>/Gaea Global</div></div></div><div class="footer body-jetbrains-size-10" data-v-e0fea222><ul class="services underscore" data-v-e0fea222><li data-v-e0fea222>Frontend development</li><li data-v-e0fea222>Backend development</li><li data-v-e0fea222>Devops</li><li data-v-e0fea222>Design</li></ul><div class="tech" data-v-e0fea222>
      Javascript / Scrollmagic / CSS
    </div><div class="expand heading-size-6" data-v-e0fea222>+</div></div></a></div></div></div></div><div class="more heading-size-9" data-v-665d3c9f>
    /
    <a href="/projects" data-v-665d3c9f>more <br data-v-665d3c9f>
      projects</a></div></div></div></div><div data-v-996dafb6></div></div><div id="footer" class="baseLayout" data-v-996dafb6 data-v-b5a9baaa><div data-v-996dafb6></div><div data-v-996dafb6><div class="site-footer" data-v-0a037a4b data-v-b5a9baaa><ul class="main-nav footer" data-v-d9c1f9da data-v-0a037a4b><div class="primary fadeIn" data-v-d9c1f9da><li data-v-d9c1f9da><a href="/design" data-v-d9c1f9da>/Design</a></li><li data-v-d9c1f9da><a href="/develop" data-v-d9c1f9da>/Develop</a></li><li data-v-d9c1f9da><a href="/projects" data-v-d9c1f9da>/Projects</a></li><li data-v-d9c1f9da><a href="/careers" data-v-d9c1f9da>/Careers</a></li><li data-v-d9c1f9da><a href="/about" data-v-d9c1f9da>/About</a></li><li data-v-d9c1f9da><a href="/contact" data-v-d9c1f9da>/Contact</a></li></div></ul><div class="subnav" data-v-0a037a4b><ul class="sub body-jetbrains-size-11 footer fadeIn" data-v-1fd061a8 data-v-0a037a4b><li data-v-1fd061a8><a href="/train" data-v-1fd061a8>/train</a></li><li data-v-1fd061a8><a href="/talks" data-v-1fd061a8>/talks</a></li><li data-v-1fd061a8><a href="https://medium.com/tarkalabs" target="_blank" rel="noopener" class="external" data-v-1fd061a8>/blog</a></li></ul><div data-v-fae945d8 data-v-0a037a4b><a href="https://twitter.com/tarkalabs" target="_blank" rel="noopener" class="external" data-v-fae945d8>Twitter</a><a href="https://in.linkedin.com/company/tarka-labs" target="_blank" rel="noopener" class="external" data-v-fae945d8>LinkedIn</a></div><div class="sedin" data-v-0a037a4b><a href="https://sedintechnologies.com/" target="_blank" rel="noopener" class="external" data-v-0a037a4b>Tarka Labs is a division of Sedin Technologies</a></div></div></div></div><div data-v-996dafb6></div></div></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"caseStudy":{"id":"4f832b99277f092bdbca85f0c149cc79","title":"Hotstar","clientId":27,"bannerText":"How to build mobile user interfaces that are fluid?","tech":"swift, ios","content":"\u003Cstyle\u003E\n  figure {\n    text-align: center;\n  }\n  .casestudy figure img {\n      height:600px; \n      width: auto !important;\n    }\n\u003C\u002Fstyle\u003E\n\u003Ch1 id=\"brief\"\u003E\u003Ca href=\"#brief\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EBrief\u003C\u002Fh1\u003E\n\u003Ch2 id=\"we-joined-hands-with-hotstar-in-augmenting-their-team-to-build-their-next-generation-mobile-experience\"\u003E\u003Ca href=\"#we-joined-hands-with-hotstar-in-augmenting-their-team-to-build-their-next-generation-mobile-experience\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EWe joined hands with Hotstar in augmenting their team to build their next generation mobile experience\u003C\u002Fh2\u003E\n\u003Cp\u003EHotstar is an online video streaming platform that offers a variety of content, including drama, movies, and live sports. It is owned by The Walt Disney Company India and operated by Disney Streaming, both part of Disney Entertainment. Hotstar is one of the dominant streaming services in India, with over 300 million active users.\u003C\u002Fp\u003E\n\u003Cp\u003EIn their mission to build next generation mobile experience, Internal design team redesigned their mobile app for better user experience and to improve the user retention.\u003C\u002Fp\u003E\n\u003Cp\u003EAs experts in iOS development, we were engaged to enrich their internal team to make this redesign a reality with sound software development principles.\u003C\u002Fp\u003E\n\u003Cfigure\u003E\n  \u003Cimg src=\"\u002Fhotstar\u002Fone.png\" alt=\"Hotstar mobile app view\" \u002F\u003E\n\u003C\u002Ffigure\u003E\n\u003Ch1 id=\"challenges\"\u003E\u003Ca href=\"#challenges\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EChallenges\u003C\u002Fh1\u003E\n\u003Ch2 id=\"how-will-you-organise-fluid-design-components-that-are-composable-customizable-and-reusable\"\u003E\u003Ca href=\"#how-will-you-organise-fluid-design-components-that-are-composable-customizable-and-reusable\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EHow will you organise fluid design components that are composable, customizable and reusable?\u003C\u002Fh2\u003E\n\u003Cp\u003EThe mobile application was designed with motion design principles. This means, every component will animate in harmony with other components based on the user interations like scroll, swipe and click. Building an iOS mobile application that is interaction rich with reusable components is not a simple task as it would need proper abstraction and well planned component composition.\u003C\u002Fp\u003E\n\u003Ch2 id=\"how-will-you-handle-different-animations-happening-at-the-same-time\"\u003E\u003Ca href=\"#how-will-you-handle-different-animations-happening-at-the-same-time\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EHow will you handle different animations happening at the same time?\u003C\u002Fh2\u003E\n\u003Ch3 id=\"gesture-based-animations\"\u003E\u003Ca href=\"#gesture-based-animations\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EGesture-based animations\u003C\u002Fh3\u003E\n\u003Cp\u003EWe needed to implement both vertical as well as horizontal animations that could be triggered by a scroll gesture from the user. The type of animation in each direction was different - vertically, we needed a parallax animation, whereas horizontally, we needed a pan animation with crossfading and movement offsets.\nApart from the above, we also needed to support a slow panning gesture as well as a fast flick gesture, and also needed to auto-complete the animation when the pan gesture crossed a particular threshold. \u003C\u002Fp\u003E\n\u003Ch3 id=\"timed-animations\"\u003E\u003Ca href=\"#timed-animations\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETimed animations\u003C\u002Fh3\u003E\n\u003Cp\u003ENot only did the animations need to work when the user performed a scrolling action, they also needed to run on a fixed timed interval that was determined on the backend. We needed to ensure that the user-triggered and automated animations did not conflict with each other in any way.\u003C\u002Fp\u003E\n\u003Ch3 id=\"smooth-animations\"\u003E\u003Ca href=\"#smooth-animations\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESmooth animations\u003C\u002Fh3\u003E\n\u003Cp\u003ETo ensure that the animations were smooth without any perceptible lags or hiccups, we needed to synchronize the animation with the device's refresh rate, whether it was 60hz or 120hz on the latest models.\nReversible animations\nWe needed to ensure that the animation could be reversed to the starting position, if the user did not complete the pan gesture fully.\u003C\u002Fp\u003E\n\u003Ch3 id=\"infinite-scrolling\"\u003E\u003Ca href=\"#infinite-scrolling\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EInfinite scrolling\u003C\u002Fh3\u003E\n\u003Cp\u003EIf the user reached the end of the list of items in the masthead on either side, we needed to allow them to loop back to the start or end again.\u003C\u002Fp\u003E\n\u003Ch1 id=\"solution\"\u003E\u003Ca href=\"#solution\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESolution\u003C\u002Fh1\u003E\n\u003Cp\u003EGiven the multiple requirements and challenges, the solution was not as simple as just using the UIView animateWithDuration APIs to drive the animation. Here’s how we implemented it\u003C\u002Fp\u003E\n\u003Ch2 id=\"ui-view-hierarchy\"\u003E\u003Ca href=\"#ui-view-hierarchy\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EUI view hierarchy\u003C\u002Fh2\u003E\n\u003Cp\u003EWe used a simple UITableView to host the contents of the home page, including the masthead component. UICollectionView was a no-go, because improvements that would allow us to use it for list-like UI, such as compositional layouts, were only introduced in iOS 13. This also meant that we had to use UIKit, and not SwiftUI as that was also an iOS 13 introduction.\u003C\u002Fp\u003E\n\u003Cp\u003EWithin the table view, each cell contained a separate component, and the masthead component was one such. The masthead itself consisted of a horizontally scrolling collection view. \u003C\u002Fp\u003E\n\u003Cfigure\u003E\n  \u003Cimg src=\"\u002Fhotstar\u002Ftwo.png\" alt=\"Hotstar mobile app view\" \u002F\u003E\n\u003C\u002Ffigure\u003E\n\u003Ch2 id=\"implementing-the-vertical-scroll-parallax-animation\"\u003E\u003Ca href=\"#implementing-the-vertical-scroll-parallax-animation\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EImplementing the vertical scroll parallax animation\u003C\u002Fh2\u003E\n\u003Cp\u003EBecause the root view was a table view, we were able to listen to UIScrollView delegate methods and obtain the scroll offset using the \u003Ccode\u003EscrollView:didScroll\u003C\u002Fcode\u003E method. The current scroll offset was broadcast as an event using RxSwift, and was listened to by the masthead component. The component then further broadcast it to the current visible cell of the internal collection view, where we updated the auto layout constraints to move the necessary subviews in the opposite direction of the scroll, giving a parallax effect. \u003C\u002Fp\u003E\n\u003Cp\u003EWe used RxSwift instead of say NSNotifications, as the former allowed us to expose a type-safe BehaviourSubject containing a CGPoint of the current vertical offset. With Notifications, we would’ve needed to package the CGPoint in an untyped [String: Any] userinfo dictionary, and then cast the value when consuming the notification.\u003C\u002Fp\u003E\n\u003Cfigure\u003E\n  \u003Cimg src=\"\u002Fhotstar\u002Fthree.gif\" alt=\"Hotstar mobile app view\" \u002F\u003E\n\u003C\u002Ffigure\u003E\n\u003Ch2 id=\"implementing-the-user-triggered-horizontal-animation\"\u003E\u003Ca href=\"#implementing-the-user-triggered-horizontal-animation\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EImplementing the user-triggered horizontal animation\u003C\u002Fh2\u003E\n\u003Cp\u003EThe first thing we did to support the custom animation that we wanted is to disable scrolling on the internal collection view, because we simply did not want the default scroll experience. \u003C\u002Fp\u003E\n\u003Cp\u003EInstead, we used a separate pan gesture, and manually transformed the collection view cells and its subviews when the gesture updated, to make it look like the collection view was scrolling during the animation. \u003C\u002Fp\u003E\n\u003Cp\u003EWhenever the pan gesture updated, we did the following:\nWe stored the “translation” of the pan gesture, aka the distance that the user has moved using the gesture\nTo ensure that the animation happened without any jitters or dropped frames, we used a CADisplayLink to drive it. When a display link is configured and added to the runloop, it gives us a callback everytime the screen is refreshed. In this callback, we calculated the progress of the animation based on the translation stored above. Since this happens on every refresh, no frames are missed out or dropped.\nWe then broadcast the progress to two individual cells - the current cell being animated out, and the next cell being animated in. They update their subviews accordingly - for example, the current cell would animate out the title to the side, and fade out its poster image. The next cell would animate in the title from the side, and fade in its poster.\u003C\u002Fp\u003E\n\u003Cp\u003EOnce the animation was complete, we then scrolled the collectionview to the new indexPath, albeit without any animation of its own, so that its internal state is up-to-date with what is on screen. \u003C\u002Fp\u003E\n\u003Cfigure\u003E\n  \u003Cimg src=\"\u002Fhotstar\u002Ffour.gif\" alt=\"Hotstar mobile app view\" \u002F\u003E\n\u003C\u002Ffigure\u003E\n\u003Ch2 id=\"implementing-the-automatic-horizontal-animation\"\u003E\u003Ca href=\"#implementing-the-automatic-horizontal-animation\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EImplementing the automatic horizontal animation\u003C\u002Fh2\u003E\n\u003Cp\u003EWe used a Timer instance to automatically scroll the masthead on a fixed interval, when the user wasn't actively scrolling it.\u003C\u002Fp\u003E\n\u003Cp\u003EWhen the timer got fired, we simply unpaused the display link, allowing it to drive the animation from start to finish. Instead of using a gesture’s translation to calculate progress, we used the display link’s timestamp during each of its callbacks, to determine how much time has elapsed, and then using the animation’s total duration, we arrived at the progress. Once the animation was completed, we scheduled the timer again, so that it can run one more time as needed.\u003C\u002Fp\u003E\n\u003Cp\u003EIn some cases, we did not want the timer to fire. For example, if the user was performing some other action such as scrolling the tableview, we did not want to distract them with an auto-scrolling masthead. To achieve this, we added the timer to the main runloop using the default mode, as opposed to the common mode. In the default mode, the runloop is blocked by other events on it - in this case pausing the timer.  As an extra precaution, we also added a check to prevent it from activating whenever the pan gesture to manually scroll horizontally was active. \u003C\u002Fp\u003E\n\u003Ch1 id=\"outcome\"\u003E\u003Ca href=\"#outcome\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOutcome\u003C\u002Fh1\u003E\n\u003Cp\u003EThe redesigned UI of our client’s mobile app with a homepage layout consisting of both parallax vertical animations and a custom horizontal scroll transition is now available on iOS. In this day and age, it is critical for mobile apps to stand out with a polished UX that delights users, and we helped our client achieve just that with our implementation of the Masthead component\u003C\u002Fp\u003E\n"},"clients":{"edges":[{"node":{"id":"27","name":"Hotstar","style":"fullBlack","logo":"org\u002Fhotstar.png"}},{"node":{"id":"26","name":"Framework","style":"fullBlack","logo":"org\u002Fframework.svg"}},{"node":{"id":"25","name":"Routinr","style":"purple-blue","logo":"org\u002Froutinr.svg"}},{"node":{"id":"24","name":"eVisitNB","style":"red","logo":""}},{"node":{"id":"23","name":"EquipmentFX","style":"yellow","logo":""}},{"node":{"id":"22","name":"Beatclub","style":"dark-grey","logo":"org\u002Fbeatclub.svg"}},{"node":{"id":"21","name":"Social Lab","style":"yellow","logo":""}},{"node":{"id":"20","name":"IFAD","style":"yellow","logo":""}},{"node":{"id":"19","name":"10i Commerce","style":"dark-blue","logo":""}},{"node":{"id":"18","name":"IDExcel","style":"grey","logo":""}},{"node":{"id":"17","name":"Aisle","style":"green","logo":""}},{"node":{"id":"16","name":"Trazaar","style":"yellow","logo":""}},{"node":{"id":"15","name":"Jiffle Now","style":"pink","logo":""}},{"node":{"id":"14","name":"Farmstead","style":"green","logo":""}},{"node":{"id":"13","name":"Inkl","style":"dark-blue","logo":""}},{"node":{"id":"12","name":"Glydel","style":"grey","logo":""}},{"node":{"id":"11","name":"Messaging Solution Provider","style":"black","logo":""}},{"node":{"id":"10","name":"EAM360","style":"red","logo":""}},{"node":{"id":"9","name":"TuneCore","style":"black","logo":""}},{"node":{"id":"8","name":"Abridge","style":"orange","logo":""}},{"node":{"id":"7","name":"GE Digital Services","style":"green","logo":""}},{"node":{"id":"6","name":"Gaea Global","style":"red","logo":""}},{"node":{"id":"5","name":"Genetic Direction","style":"dark-blue","logo":""}},{"node":{"id":"4","name":"IDEO","style":"yellow","logo":""}},{"node":{"id":"3","name":"Fankave","style":"black","logo":""}},{"node":{"id":"2","name":"Caratlane","style":"blue","logo":""}},{"node":{"id":"1","name":"Modus","style":"pink","logo":""}}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.62e9bedb.js" defer></script><script src="/assets/js/page--src--templates--case-study-vue.be0b1fb9.js" defer></script><script data-vue-tag="ssr" src="https://unpkg.com/@lottiefiles/lottie-player@0.4.0/dist/lottie-player.js" data-body="true"></script>
  </body>
</html>
