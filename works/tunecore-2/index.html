<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>TuneCore - Tarka Labs</title><meta name="gridsome:hash" content="7eabd2bb4b36d71659b1245b5dd395fb6e98bd50"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="viewport" content="width=device-width, initial-scale=1.0"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.92f6d0f06feb6aec5e019521ff224fd8.png"><link rel="preload" href="/assets/css/0.styles.2c02ec4b.css" as="style"><link rel="preload" href="/assets/js/app.9e2507dd.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--case-study-vue.56c63419.js" as="script"><link rel="stylesheet" href="/assets/css/0.styles.2c02ec4b.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
    <meta
      name="google-site-verification"
      content="j7cLUK-kxGEpMOY7valSkamH4kQe_l38yMMAXbpk19U"
    />
    <noscript>
      <div class="noscript-container">
        <a href="/" class="noscript-logo">Tarka <br />_Labs</a>
        <div class="noscript-text-container">
          <h1>Uh oh! Looks like <span>JavaScript</span> is disabled.</h1>
          <p>
            Bitman requires <span>JavaScript</span> to fuel his thirst to end
            bad UX and lazy design, which is necessary to give you the best
            viewing experience possible. Please enable it to continue to our
            website.
          </p>
        </div>
      </div>
    </noscript>
  </head>

  <body >
    <div><div id="app" data-server-rendered="true" data-v-b5a9baaa><div data-v-b5a9baaa><div id="banner-section" data-v-b5a9baaa><div class="banner" style="background:;display:;" data-v-b5a9baaa><div class="layout" data-v-b5a9baaa><div data-v-b5a9baaa></div><div class="hero heading-size-5" style="color:#ffffff;" data-v-b5a9baaa>
    Scaling Royalty Payouts for Music Distribution Platforms
  </div><div data-v-b5a9baaa></div></div></div><div data-v-b5a9baaa></div></div><div class="sidebar" data-v-d6d2017e data-v-b5a9baaa><div class="nav" data-v-d6d2017e><div class="fixed" data-v-d6d2017e><a href="/" data-v-9b1a4c9c data-v-d6d2017e> TARKA<br data-v-9b1a4c9c>_LABS </a><div class="menu" data-v-50705736 data-v-d6d2017e><div class="control" style="stroke:black;" data-v-50705736><div class="spinner heading-size-9" data-v-02ea7230 data-v-50705736><span class="side-menu-symbol" data-v-02ea7230><span class="menu-symbol rotate180t90" data-v-02ea7230><svg height="10" width="10" data-v-02ea7230><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-02ea7230></line></svg></span><span class="menu-symbol rotate90t0" data-v-02ea7230><svg height="10" width="10" data-v-02ea7230><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-02ea7230></line></svg></span></span><span style="vertical-align: middle" data-v-02ea7230> menu </span></div><div class="active-page body-jetbrains-size-11 fade-in" data-v-128e5feb data-v-50705736>
  
</div></div><div class="items hidden" data-v-50705736><ul class="main-nav" data-v-244aa462 data-v-50705736><div class="primary fadeOut sidebar" data-v-244aa462><li data-v-244aa462><a href="/music-biz" data-v-244aa462>/MusicBiz</a></li><li data-v-244aa462><a href="/genai" data-v-244aa462>/GenAI</a></li><li data-v-244aa462><a href="https://solutions.tarkalabs.com/design/" target="_self" data-v-244aa462>/Design</a></li><li data-v-244aa462><a href="/develop" data-v-244aa462>/Develop</a></li><li data-v-244aa462><a href="/case-studies" data-v-244aa462>
        /Case_Studies
      </a></li><li data-v-244aa462><a href="/careers" data-v-244aa462>/Careers</a></li><li data-v-244aa462><a href="/about" data-v-244aa462>/About</a></li><li data-v-244aa462><a href="/contact" data-v-244aa462>/Contact</a></li></div></ul><ul class="sub body-jetbrains-size-11 fadeOut sidebar" data-v-3cc3824e data-v-50705736><li data-v-3cc3824e><a href="/blogs" data-v-3cc3824e>/blogs</a></li><li data-v-3cc3824e><a href="/talks" data-v-3cc3824e>/talks</a></li><li data-v-3cc3824e><a href="/train" data-v-3cc3824e>/train</a></li></ul></div></div><a href="/contact" class="heading-size-9" data-v-573e12d8 data-v-d6d2017e>
  Get in<br data-v-573e12d8>touch<span class="arrow" data-v-573e12d8>-&gt;</span></a></div></div><div class="nav overlay-menu" data-v-d6d2017e><div class="fixed" data-v-d6d2017e><a href="/" style="color:;" data-v-9b1a4c9c data-v-d6d2017e> TARKA<br data-v-9b1a4c9c>_LABS </a><div class="menu" style="color:;" data-v-50705736 data-v-d6d2017e><div class="control" style="stroke:black;" data-v-50705736><div class="spinner heading-size-9" data-v-02ea7230 data-v-50705736><span class="side-menu-symbol" data-v-02ea7230><span class="menu-symbol rotate180t90" data-v-02ea7230><svg height="10" width="10" data-v-02ea7230><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-02ea7230></line></svg></span><span class="menu-symbol rotate90t0" data-v-02ea7230><svg height="10" width="10" data-v-02ea7230><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-02ea7230></line></svg></span></span><span style="vertical-align: middle" data-v-02ea7230> menu </span></div><div class="active-page body-jetbrains-size-11 fade-in" data-v-128e5feb data-v-50705736>
  
</div></div><div class="items hidden" data-v-50705736><ul class="main-nav" data-v-244aa462 data-v-50705736><div class="primary fadeOut sidebar" data-v-244aa462><li data-v-244aa462><a href="/music-biz" style="color:;" data-v-244aa462>/MusicBiz</a></li><li data-v-244aa462><a href="/genai" style="color:;" data-v-244aa462>/GenAI</a></li><li data-v-244aa462><a href="https://solutions.tarkalabs.com/design/" target="_self" style="color:;" data-v-244aa462>/Design</a></li><li data-v-244aa462><a href="/develop" style="color:;" data-v-244aa462>/Develop</a></li><li data-v-244aa462><a href="/case-studies" style="color:;" data-v-244aa462>
        /Case_Studies
      </a></li><li data-v-244aa462><a href="/careers" style="color:;" data-v-244aa462>/Careers</a></li><li data-v-244aa462><a href="/about" style="color:;" data-v-244aa462>/About</a></li><li data-v-244aa462><a href="/contact" style="color:;" data-v-244aa462>/Contact</a></li></div></ul><ul class="sub body-jetbrains-size-11 fadeOut sidebar" data-v-3cc3824e data-v-50705736><li data-v-3cc3824e><a href="/blogs" style="color:;" data-v-3cc3824e>/blogs</a></li><li data-v-3cc3824e><a href="/talks" style="color:;" data-v-3cc3824e>/talks</a></li><li data-v-3cc3824e><a href="/train" style="color:;" data-v-3cc3824e>/train</a></li></ul></div></div><a href="/contact" class="heading-size-9" style="color:;" data-v-573e12d8 data-v-d6d2017e>
  Get in<br data-v-573e12d8>touch<span class="arrow" data-v-573e12d8>-&gt;</span></a></div></div></div><div class="baseLayout" data-v-996dafb6 data-v-b5a9baaa><div data-v-996dafb6></div><div data-v-996dafb6><div class="casestudy" data-v-996dafb6><div data-v-996dafb6><h1 id="overview"><a href="#overview" aria-hidden="true"><span class="icon icon-link"></span></a>Overview</h1>
<p>In the music distribution world, it’s not just about getting tracks onto DSPs. Once
streams start coming in, platforms take on the complex responsibility of making
sure royalties reach the right artists and rights holders. One of our clients, a fast-
growing music distributor, was handling this well until the scale started to grow.
Their existing system worked fine at lower volumes, but as the monthly royalty
data crossed hundreds of millions of records, it began to slow down significantly.
Processing delays increased, technical overhead piled up, and it became clear that
the architecture needed a rethink to keep up with growth.
They needed a faster and more reliable way to scale.</p>
<h1 id="challenges"><a href="#challenges" aria-hidden="true"><span class="icon icon-link"></span></a>Challenges</h1>
<p>As we dug into the system, several underlying issues came to light, most of them
hidden during earlier stages of development but now impossible to ignore. The
architecture was beginning to show strain across multiple fronts. Some of the
major Challenges involved:</p>
<p>• Processing raw royalty data with hundreds of millions of rows each month</p>
<p>• Managing duplicate ISRCs and inconsistent metadata from multiple DSPs</p>
<p>• Legacy codebase that became harder to maintain and debug over time</p>
<p>• Slow processing cycles that stretched into days, with no clear visibility into when they would finish
• Heavy load on the database, with both reads and writes competing for resources</p>
<p>• Frustrated users due to unreliable performance and sluggish reporting interfaces</p>
<p>• Limited observability and metrics — scaling meant throwing more infrastructure at the problem without fixing the root issues</p>
<h1 id="research"><a href="#research" aria-hidden="true"><span class="icon icon-link"></span></a>Research</h1>
<p>As part of the re-architecture e ff ort, we spent time researching not just how to
handle the current scale, but also how to ensure the system could grow with us
over the next few years without needing a complete overhaul again. The existing
setup was built in Ruby with heavy use of MariaDB stored procedures, which had
become a bottleneck. Reporting and analytics were running on the same database
that handled processing, leading to contention and major slowdowns.</p>
<p>There was no batching or parallelism in place, which meant everything was
processed in a single thread further compounding the delays. W e explored a
range of options: di ff erent batching techniq ues, caching strategies, and even
alternative languages. But our goal wasn' t just performance we also wanted to
make sure the system was something the current team could support and evolve.
So, instead of bringing in a completely new stack, we focused on technologies and
patterns that were powerful but still within reach of the team' s comfort z one.</p>
<h1 id="our-approach"><a href="#our-approach" aria-hidden="true"><span class="icon icon-link"></span></a>Our approach</h1>
<h2 id="rebuilding-the-ingestion-engine"><a href="#rebuilding-the-ingestion-engine" aria-hidden="true"><span class="icon icon-link"></span></a>Rebuilding the Ingestion Engine</h2>
<p>We replaced the existing Ruby based ingestion pipeline with a G olang (something
the client team was already comfortable with, which made long-term
maintainability much easier) parallel processing pipeline that handled records in
batches of 50,000. This was combined with <strong>PebbleDB</strong>, a lightweight embedded
key-value store to perform fast local lookups without the memory bloat or
network latency of Redis.</p>
<p>To handle real-world issues like duplicate ISRCs, we customized our storage logic
to allow multiple values per key. This ensured accurate matching even when DSP
data was inconsistent.</p>
<h2 id="rethinking-the-data-pipeline"><a href="#rethinking-the-data-pipeline" aria-hidden="true"><span class="icon icon-link"></span></a>Rethinking the Data Pipeline</h2>
<p>CSV imports into MariaDB were taking hours and failing often. We moved
ingestion to ClickHouse, bringing load time for 500 million records down to about
10 minutes from existing 4 hours. We then used ClickHouse for aggregation and
S3 integration, sending only the critical summary data to MariaDB for
transactional operations.</p>
<p>On the frontend, we replaced the read-heavy reporting tables with denormalized
ClickHouse views. This dramatically improved U I responsiveness and made
filtering fast and smooth for end users.</p>
<h1 id="outcome"><a href="#outcome" aria-hidden="true"><span class="icon icon-link"></span></a>Outcome</h1>
<p>• Processing time dropped by over 95% , all without increasing infrastructure costs.</p>
<p>• The system now comfortably handles over 500 million records per month with ability to scale further.</p>
<p>• Even with messy metadata and duplicate ISRCs, payouts remained accurate and traceable.</p>
<p>• A hybrid ClickHouse + MariaDB setup gave us the best of both worlds—speed for analytics and integrity for transactions.</p>
<p>• On the frontend, users saw a massive boost in responsiveness, with near-instant filtering and reporting.</p>
</div></div><div class="tech-used" data-v-996dafb6><div class="tech-used" data-v-27e1a6eb><h3 data-v-27e1a6eb>_tech<br data-v-27e1a6eb>used</h3><div class="icons" data-v-27e1a6eb><span data-v-27e1a6eb><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-a985265e46d35da1580ccf6edd8527ca'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-a985265e46d35da1580ccf6edd8527ca)' width='48' height='48' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGeElEQVR42u1Za2wUVRRuixarbVqtRCg%2b0Ipi1R%2b%2bIYgivhICRmOltKiAClVCQ02j1fiI1QYV1ARJAJv4QNPYIErUBIPUYjSCYIukxghiwbb0Ad3tc7t97/p99YzZTu/MbOls64/7JV/u7uzMufeee%2b53ztyNitLQ0NDQ0NDQ0NDQ0NDQ0NDQ0NBwE8FgcJCRvD8S94560haIx29XgXeA94H3g/PBmfhtSjh2bGzHgin4PQ28Drw2PT09FdfixtQRCuMTce1C8GZwGfjWwMDAl36//yefz7cf7R5c%2bwTMA28Hp%2bKZM1X2zLbx/VzwMrH9EPgs%2bA64BdwIvgo%2bDN4IXixOGtOIiEYnc8D3wGZMPBC0QXd3txfN5pKSkhuc7AYCgWTcuxLc1d/f3xa0x0ncv1UiLXasVn8SVxusBFsx%2baAT%2bvr62PjA78FFYJzCLrdROvgDWAu7fkzO1i4cxKYFPAw%2bDxuTIxr2%2bD4DfBdsUIwn4HStt7eXzY/gvNAVy8nJuQjXVoP7LCYdUHw3XzsGFsBcckRUEjYuBwtNKx4IhgfzgD8Arxe78aITfzpMMBzHNIoeJbq9Cyh4r7S3t/cEXUBLSwtDIRd2J2DFH8Dno27YRYTRIdWGc804Bz8sBH8GD4EHbfg7SHG5R1ZphVxXer%2bnp6dclJmpbza4AFwL8TukGGSwvr6%2bBh%2bfoniBFXBCn2pFu7q6vDIO9n%2bnZJOl4A5kmWbVWPr/FYY1VmF8JZgPvgi%2bYMPXwCfoSUl1O7H6A4oOO8HtYFZdXd0lpr4uBR8DS0E6aJekMdrPknqhAE4atpLoKyBimMtUCHOJJrGcxXQIZ9ZZbIdiDuB8cLLs3elgKnOmXE%2b24OBvIfl6ouTbOnMn6Jye3pOfn3%2bT3d6prKy8mzaqqqrmhk6E0dLZ2VluMYEKcImDJrEw2hJQq2ZFFEJkmYjLNtzzGVsnQuC2y%2bdV2dnZU9CmyPOqfLzXaZAOE3hZssKwsgFcrKr0FDZukygcVh9ENTY2ZqIie1TCSEWmnSdlLxpcJe0s2I8RL9dbDHQDwzFkPIyeJaIx1ItfwAPy3eABub6fdhV53Y%2bmjGW1QzoOTcsHUWcMEWcsWHuUhL0VWWbe2tDQsBiKvMhgU1NTBlqWninSwTxVldfW1saiZrVpUBSonSMU7oCpbRQxnWSXvkMckAqn7QY7TQ7oDicEZ3o8njw8/LRBbJs8eHMNtUAiIFO1R1tbW1l5ZZnsPeP1ev0jyNkqHIMAZhQVFSWEU6DJYu7FmM1K6nOafxJVGFtkLbz1hkGks3VoCymeuOcsyQQqlf4NTUaIveny4jNaHEX/82Hv7DB1hG%2bHp6TUHmLH6dkJuClJUpyZU8EY3JOA9nGLQoal8HLDGLYSlX4btlAzouMEiW1Sgzx%2bQmr1/jAdUI2oXG5UclZ7X5DIBQqpIUKxx42DgzNw/4OqEEb6YlPIbWLsRcnrKyX3L5VcX4ABnsL2GrCp6YfIC/ipoUF2hylSdJVZ2Nrg1svQHEygx6KT71hZcqtYPJ4gzmhTpOp2FnpmuwxlsIlnADbbgFvzavBDaNawpYdoUw8y3XIA0%2bBhKXqCpjKVzT6qv8IJ03B9PSKlxSLUd0g6VAITo8asULzjx8GZPHUqQ//dijKb%2bfpXpkdXXoPRshh6G/RahCwHcQT8Qs4IKKAfSZ73mMWJZTqEl7bmshZpBlTRJRP5W9Lqm%2bBz4Ovg59JflymqjC%2b1ct4Q79ZbYCyM3WLxIvTfCDo6OnqxavWo66uRITpsRM4jeT5OzhC32r0CU2sopHDcEbS16KfHRkNOcrGY4Vw/DOGbHVgTxqGEpcBJOV3MEyUxyzrjXrBKcaoUCLOACtWUTQkJCddE6lSMZe46rvTpJHesJPfCZti5wuTkJBHK46M5BpBtMsPVGSvSDoUtF/n9eLiVHldWiia%2bc0wz0qbCCUy3u%2bWMLyyg1jBE%2bBE5GY5x/VRY4YQL5Mjpfao4IsJjTkWYsB8a9hc%2bfitH2RlpaWnnOeR1HtawmFrP9IqKtAYTDCic6cNW%2bgNfv5ZtuYDPRvw4XGE4VRyxCfxGVL9cTn2LwZfAu0wHGU6V3WCOR%2bZYKJP7SlKl8WbJoudjvnOUlpbO5lnFuPw7ZOEg/k8QHQG7LNlZ8rIeiI4aT4z0v72RrM7p2h7XVQ8zpF39H3LcJ6yhoaGhoaGhoaGhoaGh8f/GPyhsN4S6YtOtAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" width="48" data-src="/assets/static/go.f8b3168.630ab74f67b51f3d2ba34eeb48e5ec0b.svg" data-srcset="/assets/static/go.f8b3168.630ab74f67b51f3d2ba34eeb48e5ec0b.svg 48w" data-sizes="(max-width: 48px) 100vw, 48px" class="g-image g-image--lazy g-image--loading" data-v-27e1a6eb data-v-27e1a6eb><noscript data-v-27e1a6eb data-v-27e1a6eb><img src="/assets/static/go.f8b3168.630ab74f67b51f3d2ba34eeb48e5ec0b.svg" class="g-image g-image--loaded" width="48"></noscript></span><span data-v-27e1a6eb><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-a155b917acec206b4da7a101bff1cbc2'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-a155b917acec206b4da7a101bff1cbc2)' width='48' height='48' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAK7klEQVR42u1aDXRWZR2HsfHhACWYTNwYJeCUL7FYCjK1ElcIxiyYmNIxSyWNQEKxJkh5FBVKTFfqVHCZRCvDNddOUsxwgQy0KRM2ZLIGG/tm3x/v3n6/l9/1PN7ufTfY4lDd55zfufd97vP5f/7fz9unj1e84hWveMUrXvGKV7ziFa/8vxe/3x/AqfQzn27f3X4HW0NX6%2bnJer0S7AQTEhKm4vd3gRRgK/AGsA3IBF4AliclJcWiaV/bWJ8F7gGWNTc3z87Ozh7ldrobN26cgN/fAH4AfAsY7nJCnONs1CcBK9X206gLM9oMRN3XgJ8BGcBbwp%2bAF4F7t2zZMg3tzgrKCaicBvwE%2bB1QUFtb2%2bS3lePHjzd3dnbuw%2btmYD66DTX6Lzx27NhuPN8HtgM3uLEf3h8C3m5razvAJzAb1YMc1jQE%2bCrwOuY%2bgmdWaWnpNIsA%2bE1CPgy8WV9fX21fb1VVla%2b9vb2Y/YAF6NIvGDesRmOrbyNwFPgQ4CIP8jc232yM/zcuzuh/CxZ5yPj%2bqMs8Q4G9trWuTU1NHefAmdGtra2pPp%2bvUe0KgIv1bSz7gdusMfjyEfCBDmE/cBio1ffn0O2cYAR4TA3ZOQWnsxiYi01fVVlZ%2bRWyvsSgIzDbiYmz8X2Q%2bl8GpBmb2oTqsbZp%2bqP%2b89qIWch1VzqsKRbYjXW0NzUFGHIr5uurb8tramraWAkicU1bi4uLF3Id1dXVk8DBXM98tF/b0tJCrl2LbhHBCDAJuJ4UBs4HPoXqcMoY5Qe/BwPTgXSgzjiRy/E9BBiB96XGpqg35trmOAe4TSfjB8d1SLS4wBsd1nQ50MA2IAK5a5U%2bnYf3VGOuV4BZWmt/IFTEpgidZ%2b1J9a5mIaQbenOguQE%2bwZ7fJFtrvGvwO3BUeFJ0VtrmG4UTeUJsSXb9O9viJH1Unra5BklRWuXPwJf1bTLef2t8ewh10adsDk/CPobk5uZeivb7NPERbHQFnhEa50KKEE6rkwoT7y/Z5qHcbpOueRVIBkHaNNbjpmUpKCgYj7pHjE0%2bi%2bpIfR5rE7dfiwPCetPPcSQAFszJ8zUxFeUDwLmaKArff4mnpZFzLR2h75cAFZbiA2aKEwKbQJOLjLZfAHFfE/v7bdwUIu3vN3TAq5D92ZjvrJ56cqPx%2byaZxF9I1jZoo7c3NjYuknXwyzKsMghAm32zsSlyyqWW%2bcH7dWjfoW/UFyOB16CkKAJv2q1KXV1dYByYOCrmJNvaEyQWVqkHCoEcrfdmNBvfbdbXYpLk7OzCRsug/dvKy8s7Yd9bsJgKnMh%2b2e0GJwLoZMYB/9B3buBWgMp0mKUkIfPkgoWoG4D%2bJHSt7PW9xnruB2GszdGhiTPXDoeN482jjwCLVGeaFKy9Eo%2bdFEFghRR1eDCRD0PlooaGhneMcepk/wt0kgek/Dh4uyECJgEsImTqO0XhSXp60g/PiGX/gscX1XY%2bx4XTQs5INRTgU2wLAvFxF62MwwZCi4qKvqRx3xbBqzs6Oj7eBIjdYViJUEdRAPXnyOW1ZIqnsT4zM3MmFjCurKwsBogFN1yN%2biVASRACBDw9nF4pZNcnh4lmNR51OepHN3si22L8i%2bR7sPwVv0PnzJkTh/c/qI5sMLMb4jyGXIX%2bHHsfuLXZ5mtk5OTkXOnG/k/B0agWxVtl6iJlU0OknYlBGJju53uGCDzgQIAbJIt%2bmTwqzgU4jUrV3W2dKN4HGG3JgeNxIHfiuUfWgqYythuRXV95mVHitgU6%2bRNUbGmh2D3hZiK2GdqWpz/BjdKJiYkXGwQoA0EepP6wNRstubXKbGAN2VlKMMG2hhchAuT1gxBD%2bv4vgI0rRbz1dGZOJuw2RJGc/T7W2G44Z44E2CkCtMvEjXeZiFr%2bdsMRqsCG1lkLtLVdZRDgp4rOAr4DMNnWdgVO%2b5BM5MPiBBbWzYuJiRl8KvE8HS9sPgPEtJT2W26R4DYziLJrXKMdQ%2bVdWGyLxKUOYGQ4xqHtIliOYo1ZLOXEaJKEuMDWli74doxLnZEnk8ayR6JoH3uAENIFASbJMfPBMeN4v3fTAU%2bjQZUmJYu%2bTPaR5zVm9erVM/D7PtpqmJhOaWZyTKc07%2bccJo9X3ODHxn0GxzzmwDHjDM8u4EqDeNRFrziFsPQnGN3Rh2BOAW2p4Rkljgbo81NMbwG2KEr0Kzpc5kapawwW9UMh1lAjaxLa0izUHQWRapQLyKb8G1yT6BBLnK8khlmOyL8f6qDAHjcbghtogu9zOjBsOAnEf0cxx4dyiDbLh3lOrnEeHKgApyIybJQuucCNW/rh4x0yR9U6Wb9hFtu1%2bJemT58%2bpbCwcK5Ot14K8TpFYvZNzaLJxKnXYoxmafuJlj22ceF3sGnOUQWOaZIGj3daLByzqfITeAj1GNueC7H8h3r5Ms/LGQoa%2b1CmLkPHZ4C9oGwZnrTze0GQ5xXaDjYGYa5gDdkfGOjCWRFoczc29HOc2tP0Cq143qHthfi2mLEE2jKeuN7VcUHBqZ5LMUX7DcAbwAfSXz6812D975Ib8J7owHGulOgvO0rnZLLApES03Fl7umqkGYHZYwsqKeYV5AgRw4JEaP3VNkoY0o31hmvcsUqPTVFu8hLtIdp2aD0Oh13bn84UeE9D2x4T4EzOcHvlk0ShCIZDuTIYGxIXF9fvf5KK5rrj4%2bOnKGDbqPT8u/JuaTZ3ydwns1OyMr204cP/24khhc09/REWYt/hw4crSkpKWioqKvyIL0yTHshX9tGtTyZCXF4a3CXtOdwpOdqbObX/IAEY%2bLyuE6cT9xs5Rcxo/Uphebk80w7L%2bSHVMiAjTXKCfsj4P5j9PYMJEObmj7CAC2Ktuw/ssdTqRCIw%2b7oODQ6CNVrl2T0LfB1NRp7JuqKL2%2bmoHTt2MIEzVb8jFM%2bw7LYPRCJ8n2zCnEB1dXWTEhEpUiizRowYEWO/ED3dROlijjA5P/O0UQZCWQjeeAF7dlpaGjNG6z7OQDvIdSjzdNINRyylAWK0gGWypWAYhU2UZ8ibowG9aadPkoi8rYpQKmySbojXY8N5Cn39Ss7yAHmhcwU4PAtgkLAi2CKGqNMehwCjVcHFJgxExTkDdcO6eavUawXBGF3lazH3Sim7YqynzUh/cZ0v5%2bfnzzT2dRuCqDIle%2bO7cjWZcuYN0BLohjxbZOhTqqpEMXaebnkYbn6P%2bcDk5GReYUedDIc4nTBvgNLT069Q5niJWDhTh1NETgURjhvX9z5x8I36H0F/Qzw2IDxuV2Q4urvXRxFKcD7KmBvsVe53KIjeOpgvEMttV6icqj8t8L8A9%2btO4E7dE9yqC5Sb9H6HiLdM8vtjXW5s0oYYRuc3NzcfxRr%2bbX7orY90CJznantoruRMllL7M7o8GAdCUN6u1aKs/HutuKHLwtgcuqS9BgVOyj8JEK0I2M93VFdR8QI%2bJWaDlrYTjSp1E0SbvwbEiQuyn6UgHC9T1/RU/Gg2RyndlAa5O%2bg//aUDBN0j7mK2eXA3lOtSmfWBvWJ2lB2OVtzNhAMTI%2bmQsfd40r25WzINTm%2bn0l33KH03QXnF8G6GzyNdkyK9YMb6paSkfEZytkDUfkTXVZslezsYjPD/RfBCD0B0DvH2iU94oYXyQvOkPzKUlH1SqfXF%2bp/QNON6/JRyFL3qs3RjkIjIyMjJxcXFPLGF2shyKaoHpej4/JFO9tu05bm5uVfpmjzci/%2b9rIx32l7xile84hWveKX3y78AWGfYMF5DjaUAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="48" data-src="/assets/static/aws.f8b3168.fdf409d9705d0901a6aa1bd38bb10d1e.svg" data-srcset="/assets/static/aws.f8b3168.fdf409d9705d0901a6aa1bd38bb10d1e.svg 48w" data-sizes="(max-width: 48px) 100vw, 48px" class="g-image g-image--lazy g-image--loading" data-v-27e1a6eb data-v-27e1a6eb><noscript data-v-27e1a6eb data-v-27e1a6eb><img src="/assets/static/aws.f8b3168.fdf409d9705d0901a6aa1bd38bb10d1e.svg" class="g-image g-image--loaded" width="48"></noscript></span></div><div class="body-jetbrains-size-10" data-v-27e1a6eb>
    GO  /  AWS
  </div></div></div><div class="lets-talk" data-v-996dafb6><div class="lets-talk" data-v-188e6a71><div class="message heading-size-7" data-v-188e6a71>
    Let’s build digital solutions together.
  </div><div class="action-container" data-v-188e6a71><div class="action-button heading-size-5" data-v-188e6a71><div data-v-188e6a71>Get in touch</div><div class="arrow" data-v-188e6a71>-&gt;</div></div><img src="/assets/img/talk.71d1d2f3.svg" alt="Lenny Face" data-v-188e6a71></div></div></div><div class="other-projects" data-v-996dafb6><div class="projects" data-v-e1c7e4fa><h3 data-v-e1c7e4fa>_case studies</h3><div data-v-e1c7e4fa><div class="group" data-v-149b588c data-v-e1c7e4fa><div class="col" data-v-149b588c><div class="item" data-v-149b588c><a href="/works/mastering-the-mix" class="project" style="color:#ffffff;" data-v-4513dbce data-v-149b588c><div class="video" data-v-4513dbce><video src="/assets/files/zojak.1915efff2a5282a01a2eb8f877167575.mp4" muted="muted" autoplay="autoplay" loop="loop" playsinline data-v-4513dbce></video></div><div class="header" data-v-4513dbce><div data-v-4513dbce><div class="title heading-size-8" data-v-4513dbce>Mastering the Mix: How Tarka Labs Powers the Future of Music Distribution</div><div class="desc heading-size-9" data-v-4513dbce>/Music Distribution Company</div></div></div><div class="footer body-jetbrains-size-10" data-v-4513dbce><ul class="services underscore" data-v-4513dbce><li data-v-4513dbce>Discovery</li><li data-v-4513dbce>Consulting</li></ul><div class="tech" data-v-4513dbce>
      Miro / Figma / Whiteboard
    </div><div class="expand heading-size-6" data-v-4513dbce>+</div></div></a></div><div class="item" data-v-149b588c><a href="/works/starz" class="project" style="color:#ffffff;" data-v-4513dbce data-v-149b588c><div class="video" data-v-4513dbce><video src="/assets/files/starz.ba0778d74f6d183263666894f91a20b3.mp4" muted="muted" autoplay="autoplay" loop="loop" playsinline data-v-4513dbce></video></div><div class="header" data-v-4513dbce><div data-v-4513dbce><div class="title heading-size-8" data-v-4513dbce>We at Tarka Labs  Helped Deliver Five 9's (99.999%) Availability for Critical Streaming Infrastructure at Starz</div><div class="desc heading-size-9" data-v-4513dbce>/Starz</div></div></div><div class="footer body-jetbrains-size-10" data-v-4513dbce><ul class="services underscore" data-v-4513dbce><li data-v-4513dbce>Devops</li></ul><div class="tech" data-v-4513dbce>
      AWS / Terraform / Grafana / Prometheus / Ansible / Jenkins / Python / Linux / Confluence / Jira
    </div><div class="expand heading-size-6" data-v-4513dbce>+</div></div></a></div></div><div class="col right" data-v-149b588c><div class="item" data-v-149b588c><a href="/works/global-record-label" class="project" style="color:#ffffff;" data-v-4513dbce data-v-149b588c><div class="video" data-v-4513dbce><video src="/assets/files/universal.05efa4902328d4b1aee832ee53e539d0.mp4" muted="muted" autoplay="autoplay" loop="loop" playsinline data-v-4513dbce></video></div><div class="header" data-v-4513dbce><div data-v-4513dbce><div class="title heading-size-8" data-v-4513dbce>We built a Shopify stack to support 1500+ global artist stores</div><div class="desc heading-size-9" data-v-4513dbce>/Global Record Label</div></div></div><div class="footer body-jetbrains-size-10" data-v-4513dbce><ul class="services underscore" data-v-4513dbce><li data-v-4513dbce>Shopify</li></ul><div class="tech" data-v-4513dbce>
      
    </div><div class="expand heading-size-6" data-v-4513dbce>+</div></div></a></div><div class="item" data-v-149b588c><a href="/design/transform-music-industry-with-ai" class="project" style="color:#ffffff;" data-v-4513dbce data-v-149b588c><div class="video" data-v-4513dbce><video src="/assets/files/songistry.3e66d5d64a879c6161923af7d0a2732b.mp4" muted="muted" autoplay="autoplay" loop="loop" playsinline data-v-4513dbce></video></div><div class="header" data-v-4513dbce><div data-v-4513dbce><div class="title heading-size-8" data-v-4513dbce>How we transformed the music industry with AI and data</div><div class="desc heading-size-9" data-v-4513dbce>/Redacted</div></div></div><div class="footer body-jetbrains-size-10" data-v-4513dbce><ul class="services underscore" data-v-4513dbce><li data-v-4513dbce>Art direction</li><li data-v-4513dbce>App design</li><li data-v-4513dbce>User experience</li><li data-v-4513dbce>Information architecture</li><li data-v-4513dbce>Prototyping</li></ul><div class="tech" data-v-4513dbce>
      
    </div><div class="expand heading-size-6" data-v-4513dbce>+</div></div></a></div></div></div></div><div class="more heading-size-9" data-v-e1c7e4fa>
    /<a href="/case-studies" data-v-e1c7e4fa>
      more <br data-v-e1c7e4fa>Case_Studies
    </a></div></div></div></div><div data-v-996dafb6></div></div><div id="footer" class="baseLayout" data-v-996dafb6 data-v-b5a9baaa><div data-v-996dafb6></div><div data-v-996dafb6><div class="site-footer" data-v-0a037a4b data-v-b5a9baaa><ul class="main-nav footer" data-v-244aa462 data-v-0a037a4b><div class="primary fadeIn" data-v-244aa462><li data-v-244aa462><a href="/music-biz" data-v-244aa462>/MusicBiz</a></li><li data-v-244aa462><a href="/genai" data-v-244aa462>/GenAI</a></li><li data-v-244aa462><a href="https://solutions.tarkalabs.com/design/" target="_self" data-v-244aa462>/Design</a></li><li data-v-244aa462><a href="/develop" data-v-244aa462>/Develop</a></li><li data-v-244aa462><a href="/case-studies" data-v-244aa462>
        /Case_Studies
      </a></li><li data-v-244aa462><a href="/careers" data-v-244aa462>/Careers</a></li><li data-v-244aa462><a href="/about" data-v-244aa462>/About</a></li><li data-v-244aa462><a href="/contact" data-v-244aa462>/Contact</a></li></div></ul><div class="subnav" data-v-0a037a4b><ul class="sub body-jetbrains-size-11 footer fadeIn" data-v-3cc3824e data-v-0a037a4b><li data-v-3cc3824e><a href="/blogs" data-v-3cc3824e>/blogs</a></li><li data-v-3cc3824e><a href="/talks" data-v-3cc3824e>/talks</a></li><li data-v-3cc3824e><a href="/train" data-v-3cc3824e>/train</a></li></ul><div data-v-fae945d8 data-v-0a037a4b><a href="https://twitter.com/tarkalabs" target="_blank" rel="noopener" class="external" data-v-fae945d8>Twitter</a><a href="https://in.linkedin.com/company/tarka-labs" target="_blank" rel="noopener" class="external" data-v-fae945d8>LinkedIn</a></div><div class="sedin" data-v-0a037a4b><a href="https://sedintechnologies.com/" target="_blank" rel="noopener" class="external" data-v-0a037a4b>Tarka Labs is a division of Sedin Technologies</a></div></div></div></div><div data-v-996dafb6></div></div></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"caseStudy":{"id":"a1687c62856896cb97bbb0a82bc0f6d7","title":"Tunecore","clientId":9,"bannerText":"Scaling Royalty Payouts for Music Distribution Platforms","tech":"go, aws","content":"\u003Ch1 id=\"overview\"\u003E\u003Ca href=\"#overview\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOverview\u003C\u002Fh1\u003E\n\u003Cp\u003EIn the music distribution world, it’s not just about getting tracks onto DSPs. Once\nstreams start coming in, platforms take on the complex responsibility of making\nsure royalties reach the right artists and rights holders. One of our clients, a fast-\ngrowing music distributor, was handling this well until the scale started to grow.\nTheir existing system worked fine at lower volumes, but as the monthly royalty\ndata crossed hundreds of millions of records, it began to slow down significantly.\nProcessing delays increased, technical overhead piled up, and it became clear that\nthe architecture needed a rethink to keep up with growth.\nThey needed a faster and more reliable way to scale.\u003C\u002Fp\u003E\n\u003Ch1 id=\"challenges\"\u003E\u003Ca href=\"#challenges\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EChallenges\u003C\u002Fh1\u003E\n\u003Cp\u003EAs we dug into the system, several underlying issues came to light, most of them\nhidden during earlier stages of development but now impossible to ignore. The\narchitecture was beginning to show strain across multiple fronts. Some of the\nmajor Challenges involved:\u003C\u002Fp\u003E\n\u003Cp\u003E• Processing raw royalty data with hundreds of millions of rows each month\u003C\u002Fp\u003E\n\u003Cp\u003E• Managing duplicate ISRCs and inconsistent metadata from multiple DSPs\u003C\u002Fp\u003E\n\u003Cp\u003E• Legacy codebase that became harder to maintain and debug over time\u003C\u002Fp\u003E\n\u003Cp\u003E• Slow processing cycles that stretched into days, with no clear visibility into when they would finish\n• Heavy load on the database, with both reads and writes competing for resources\u003C\u002Fp\u003E\n\u003Cp\u003E• Frustrated users due to unreliable performance and sluggish reporting interfaces\u003C\u002Fp\u003E\n\u003Cp\u003E• Limited observability and metrics — scaling meant throwing more infrastructure at the problem without fixing the root issues\u003C\u002Fp\u003E\n\u003Ch1 id=\"research\"\u003E\u003Ca href=\"#research\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EResearch\u003C\u002Fh1\u003E\n\u003Cp\u003EAs part of the re-architecture e ff ort, we spent time researching not just how to\nhandle the current scale, but also how to ensure the system could grow with us\nover the next few years without needing a complete overhaul again. The existing\nsetup was built in Ruby with heavy use of MariaDB stored procedures, which had\nbecome a bottleneck. Reporting and analytics were running on the same database\nthat handled processing, leading to contention and major slowdowns.\u003C\u002Fp\u003E\n\u003Cp\u003EThere was no batching or parallelism in place, which meant everything was\nprocessed in a single thread further compounding the delays. W e explored a\nrange of options: di ff erent batching techniq ues, caching strategies, and even\nalternative languages. But our goal wasn' t just performance we also wanted to\nmake sure the system was something the current team could support and evolve.\nSo, instead of bringing in a completely new stack, we focused on technologies and\npatterns that were powerful but still within reach of the team' s comfort z one.\u003C\u002Fp\u003E\n\u003Ch1 id=\"our-approach\"\u003E\u003Ca href=\"#our-approach\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOur approach\u003C\u002Fh1\u003E\n\u003Ch2 id=\"rebuilding-the-ingestion-engine\"\u003E\u003Ca href=\"#rebuilding-the-ingestion-engine\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ERebuilding the Ingestion Engine\u003C\u002Fh2\u003E\n\u003Cp\u003EWe replaced the existing Ruby based ingestion pipeline with a G olang (something\nthe client team was already comfortable with, which made long-term\nmaintainability much easier) parallel processing pipeline that handled records in\nbatches of 50,000. This was combined with \u003Cstrong\u003EPebbleDB\u003C\u002Fstrong\u003E, a lightweight embedded\nkey-value store to perform fast local lookups without the memory bloat or\nnetwork latency of Redis.\u003C\u002Fp\u003E\n\u003Cp\u003ETo handle real-world issues like duplicate ISRCs, we customized our storage logic\nto allow multiple values per key. This ensured accurate matching even when DSP\ndata was inconsistent.\u003C\u002Fp\u003E\n\u003Ch2 id=\"rethinking-the-data-pipeline\"\u003E\u003Ca href=\"#rethinking-the-data-pipeline\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ERethinking the Data Pipeline\u003C\u002Fh2\u003E\n\u003Cp\u003ECSV imports into MariaDB were taking hours and failing often. We moved\ningestion to ClickHouse, bringing load time for 500 million records down to about\n10 minutes from existing 4 hours. We then used ClickHouse for aggregation and\nS3 integration, sending only the critical summary data to MariaDB for\ntransactional operations.\u003C\u002Fp\u003E\n\u003Cp\u003EOn the frontend, we replaced the read-heavy reporting tables with denormalized\nClickHouse views. This dramatically improved U I responsiveness and made\nfiltering fast and smooth for end users.\u003C\u002Fp\u003E\n\u003Ch1 id=\"outcome\"\u003E\u003Ca href=\"#outcome\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOutcome\u003C\u002Fh1\u003E\n\u003Cp\u003E• Processing time dropped by over 95% , all without increasing infrastructure costs.\u003C\u002Fp\u003E\n\u003Cp\u003E• The system now comfortably handles over 500 million records per month with ability to scale further.\u003C\u002Fp\u003E\n\u003Cp\u003E• Even with messy metadata and duplicate ISRCs, payouts remained accurate and traceable.\u003C\u002Fp\u003E\n\u003Cp\u003E• A hybrid ClickHouse + MariaDB setup gave us the best of both worlds—speed for analytics and integrity for transactions.\u003C\u002Fp\u003E\n\u003Cp\u003E• On the frontend, users saw a massive boost in responsiveness, with near-instant filtering and reporting.\u003C\u002Fp\u003E\n"},"clients":{"edges":[{"node":{"id":"36","name":"Music Distribution Company","style":"electricIndigo","logo":""}},{"node":{"id":"35","name":"Global Record Label","style":"fullBlack","logo":""}},{"node":{"id":"34","name":"Starz","style":"dark-blue","logo":""}},{"node":{"id":"33","name":"FamilyCloud","style":"electricIndigo","logo":""}},{"node":{"id":"32","name":"Redacted","style":"fullBlack","logo":""}},{"node":{"id":"31","name":"Redacted","style":"pricebook-orange","logo":""}},{"node":{"id":"30","name":"Redacted","style":"electricIndigo","logo":""}},{"node":{"id":"29","name":"AGS","style":"red","logo":""}},{"node":{"id":"28","name":"Redacted","style":"green","logo":""}},{"node":{"id":"27","name":"Hotstar","style":"fullBlack","logo":"org\u002Fhotstar.png"}},{"node":{"id":"26","name":"Framework","style":"fullBlack","logo":"org\u002Fframework.svg"}},{"node":{"id":"25","name":"Routinr","style":"purple-blue","logo":"org\u002Froutinr.svg"}},{"node":{"id":"24","name":"eVisitNB","style":"red","logo":""}},{"node":{"id":"23","name":"EquipmentFX","style":"yellow","logo":""}},{"node":{"id":"22","name":"Beatclub","style":"dark-grey","logo":"org\u002Fbeatclub.svg"}},{"node":{"id":"21","name":"Social Lab","style":"yellow","logo":""}},{"node":{"id":"20","name":"IFAD","style":"yellow","logo":""}},{"node":{"id":"19","name":"10i Commerce","style":"dark-blue","logo":""}},{"node":{"id":"18","name":"IDExcel","style":"grey","logo":""}},{"node":{"id":"17","name":"Aisle","style":"green","logo":""}},{"node":{"id":"16","name":"Trazaar","style":"yellow","logo":""}},{"node":{"id":"15","name":"Jiffle Now","style":"pink","logo":""}},{"node":{"id":"14","name":"Farmstead","style":"green","logo":""}},{"node":{"id":"13","name":"Inkl","style":"dark-blue","logo":""}},{"node":{"id":"12","name":"Glydel","style":"grey","logo":""}},{"node":{"id":"11","name":"Messaging Solution Provider","style":"black","logo":""}},{"node":{"id":"10","name":"EAM360","style":"eam-blue","logo":"org\u002Feam360.svg"}},{"node":{"id":"9","name":"TuneCore","style":"black","logo":""}},{"node":{"id":"8","name":"Abridge","style":"orange","logo":""}},{"node":{"id":"7","name":"GE Digital Services","style":"green","logo":""}},{"node":{"id":"6","name":"Gaea Global","style":"red","logo":""}},{"node":{"id":"5","name":"Genetic Direction","style":"dark-blue","logo":""}},{"node":{"id":"4","name":"IDEO","style":"yellow","logo":""}},{"node":{"id":"3","name":"Fankave","style":"black","logo":""}},{"node":{"id":"2","name":"Caratlane","style":"blue","logo":""}},{"node":{"id":"1","name":"Modus","style":"pink","logo":""}}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.9e2507dd.js" defer></script><script src="/assets/js/page--src--templates--case-study-vue.56c63419.js" defer></script><script data-vue-tag="ssr" src="https://unpkg.com/@lottiefiles/lottie-player@0.4.0/dist/lottie-player.js" data-body="true"></script>
  </body>
</html>
