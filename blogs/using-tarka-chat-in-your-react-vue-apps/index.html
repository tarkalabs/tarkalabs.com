<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Using Tarka Chat in your React/Vue apps · Tarka Labs - Tarka Labs</title><meta name="gridsome:hash" content="4e835d287785e482d873833e927668661a23737e"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="viewport" content="width=device-width, initial-scale=1.0"><meta data-vue-tag="ssr" property="og:title" content="Using Tarka Chat in your React/Vue apps · Tarka Labs"><meta data-vue-tag="ssr" property="og:description" content="Using Tarka Chat in your React/Vue apps"><meta data-vue-tag="ssr" property="og:image" content="/assets/img/Photo-by-Volodymyr-Hryshchenko-on-Unsplash.97698903.webp"><meta data-vue-tag="ssr" property="og:image:height" content="627"><meta data-vue-tag="ssr" property="og:image:width" content="1200"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.92f6d0f06feb6aec5e019521ff224fd8.png"><link rel="preload" href="/assets/css/0.styles.caf054be.css" as="style"><link rel="preload" href="/assets/js/app.5549cb77.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--blog-vue.18adb478.js" as="script"><link rel="stylesheet" href="/assets/css/0.styles.caf054be.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
    <meta
      name="google-site-verification"
      content="j7cLUK-kxGEpMOY7valSkamH4kQe_l38yMMAXbpk19U"
    />
    <noscript>
      <div class="noscript-container">
        <a href="/" class="noscript-logo">Tarka <br />_Labs</a>
        <div class="noscript-text-container">
          <h1>Uh oh! Looks like <span>JavaScript</span> is disabled.</h1>
          <p>
            Bitman requires <span>JavaScript</span> to fuel his thirst to end
            bad UX and lazy design, which is necessary to give you the best
            viewing experience possible. Please enable it to continue to our
            website.
          </p>
        </div>
      </div>
    </noscript>
  </head>

  <body >
    <div><div id="app" data-server-rendered="true" data-v-71a2ecff><div data-v-71a2ecff><div id="banner-section" data-v-71a2ecff><div class="banner" style="background:;display:none;" data-v-71a2ecff><div class="layout" data-v-71a2ecff><div data-v-71a2ecff></div><div class="hero heading-size-5" style="color:#ffffff;" data-v-71a2ecff></div><div data-v-71a2ecff></div></div></div><div data-v-71a2ecff></div></div><div class="sidebar" data-v-d6d2017e data-v-71a2ecff><div class="nav" data-v-d6d2017e><div class="fixed" data-v-d6d2017e><a href="/" data-v-9b1a4c9c data-v-d6d2017e> TARKA<br data-v-9b1a4c9c>_LABS </a><div class="menu" data-v-50705736 data-v-d6d2017e><div class="control" style="stroke:black;" data-v-50705736><div class="spinner heading-size-9" data-v-02ea7230 data-v-50705736><span class="side-menu-symbol" data-v-02ea7230><span class="menu-symbol rotate180t90" data-v-02ea7230><svg height="10" width="10" data-v-02ea7230><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-02ea7230></line></svg></span><span class="menu-symbol rotate90t0" data-v-02ea7230><svg height="10" width="10" data-v-02ea7230><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-02ea7230></line></svg></span></span><span style="vertical-align: middle" data-v-02ea7230> menu </span></div><div class="active-page body-jetbrains-size-11 fade-in" data-v-128e5feb data-v-50705736>
  
</div></div><div class="items hidden" data-v-50705736><ul class="main-nav" data-v-1c6945ef data-v-50705736><div class="primary fadeOut sidebar" data-v-1c6945ef><li data-v-1c6945ef><a href="/music-tech" data-v-1c6945ef>/MusicTech</a></li><li data-v-1c6945ef><a href="/health-care-tech" data-v-1c6945ef>/HealthCareTech</a></li><li data-v-1c6945ef><a href="/genai" data-v-1c6945ef>/GenAI</a></li><li data-v-1c6945ef><a href="https://solutions.tarkalabs.com/design/" target="_self" data-v-1c6945ef>/Design</a></li><li data-v-1c6945ef><a href="/develop" data-v-1c6945ef>/Develop</a></li><li data-v-1c6945ef><a href="/case-studies" data-v-1c6945ef>
        /Case_Studies
      </a></li><li data-v-1c6945ef><a href="/careers" data-v-1c6945ef>/Careers</a></li><li data-v-1c6945ef><a href="/about" data-v-1c6945ef>/About</a></li><li data-v-1c6945ef><a href="/contact" data-v-1c6945ef>/Contact</a></li></div></ul><ul class="sub body-jetbrains-size-11 fadeOut sidebar" data-v-3cc3824e data-v-50705736><li data-v-3cc3824e><a href="/blogs" class="active" data-v-3cc3824e>/blogs</a></li><li data-v-3cc3824e><a href="/talks" data-v-3cc3824e>/talks</a></li><li data-v-3cc3824e><a href="/train" data-v-3cc3824e>/train</a></li></ul></div></div><a href="/contact" class="heading-size-9" data-v-573e12d8 data-v-d6d2017e>
  Get in<br data-v-573e12d8>touch<span class="arrow" data-v-573e12d8>-&gt;</span></a></div></div><!----></div><div class="baseLayout" data-v-996dafb6 data-v-71a2ecff><div data-v-996dafb6></div><div data-v-996dafb6><div class="blog-details-page" data-v-996dafb6><div class="inner-section" data-v-996dafb6><p class="heading-size-10 capitalize" data-v-996dafb6>
        /web - 5 min read
      </p><h1 class="title" data-v-996dafb6>Using Tarka Chat in your React/Vue apps</h1><div class="author-basic-info" data-v-996dafb6><img src="/assets/img/shamil.116f5579.png" alt="Shamil Siddique" width="64" data-v-996dafb6><div data-v-996dafb6><p class="heading-size-9 capitalize" data-v-996dafb6>Shamil Siddique</p><p class="body-jetbrains-size-10" data-v-996dafb6>
            Developer
          </p></div></div></div><img src="/assets/img/Photo-by-Volodymyr-Hryshchenko-on-Unsplash.97698903.webp" alt="Using Tarka Chat in your React/Vue apps" class="header-img" data-v-996dafb6><div class="toc-wrapper" data-v-996dafb6><h2 class="heading-size-7" data-v-996dafb6>Table of contents</h2><div class="toc" data-v-996dafb6><a href="#content" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/01</p><p data-v-996dafb6>Intro</p></a><a href="#toc-section-1" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/02</p><p data-v-996dafb6>Tarka Chat</p></a><a href="#toc-section-2" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/03</p><p data-v-996dafb6>Integrating Tarka Chat with React/Vue apps</p></a><a href="#toc-section-3" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/04</p><p data-v-996dafb6>Direct DOM Manipulation:</p></a><a href="#toc-section-4" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/05</p><p data-v-996dafb6>Initialising React inside Tarka Chat</p></a><a href="#toc-section-5" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/06</p><p data-v-996dafb6>Same, but in Vue</p></a><a href="#toc-section-6" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/07</p><p data-v-996dafb6>Conclusion</p></a></div></div><div id="content" class="content" data-v-996dafb6><p>Chatbots are a pretty common occurrence in websites. I haven’t worked on a lot of them before, but I’ve interacted with quite a few for lodging complaints, troubleshooting, etc. The recent boom in AI space (thanks, ChatGPT) has made sure I’ll be interacting with a lot more of them.</p>
<p>So, I’ll start by giving a brief overview of <strong>Tarka Chat</strong> — a framework-independent library to ease the chatbot UI development part.</p>
<p>Disclaimer: I work at <a href="https://tarkalabs.com" target="_blank" rel="nofollow noopener noreferrer">Tarka Labs</a> which builds and maintains Tarka Chat.</p>
<h1 id="toc-section-1"><a href="#tarka-chat" aria-hidden="true"><span class="icon icon-link"></span></a>Tarka Chat</h1>
<p>Tarka Chat is an open source library that sets up a neat chatbot UI and can be configured to work with chat APIs. According to its Github description:</p>
<blockquote>
<p>Tarka Chat UI is a plug and play javascript library to integrate a chat assistant to your website in one line</p>
</blockquote>
<p>Adding Tarka Chat to a website is pretty easy — a script tag with source pointing to the tarka chat CDN file. The script tag will look something like this:</p>
<div class="gridsome-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://d1fmfone96g0x2.cloudfront.net/tarka-chat-2.4.4.umd.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre></div>
<p>The latest version when writing this blog was <code class="language-inline-text">2.4.4.</code> You can find the current version in the release section in its <a href="https://github.com/tarkalabs/tarka-chat" target="_blank" rel="nofollow noopener noreferrer">Github repo</a>, and update the import if required.</p>
<p>Once imported, Tarka Chat can be initialised with multiple properties.</p>
<div class="gridsome-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">TarkaChat<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"Personal Assistant"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">botName</span><span class="token operator">:</span> <span class="token string">"superbot"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">greeting</span><span class="token operator">:</span> <span class="token string">"Welcome. How can I assist you today?"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">themeColor</span><span class="token operator">:</span> <span class="token string">"#F0DAFB"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">selectorId</span><span class="token operator">:</span> <span class="token string">"chatbot"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">expand</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enableUpload</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function-variable function">preChatRenderer</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">onClose</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Return a DOM Node that can be attached to the chatbot UI</span>
    <span class="token comment">// Use the onClose callback to close the pre-chat screen</span>
    <span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    button<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"Close pre-chat"</span><span class="token punctuation">;</span>
    button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> onClose<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> button<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">submitHandler</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do API calls</span>
    <span class="token comment">// after getting response return the response string</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"Recieved response"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><em>preChatRenderer</em> is an optional property, and it accepts a method which takes an pre-chat close method as param and returns a DOM node containing the preChat UI.</p>
<p><em>submitHandler</em> is a required property, and it accepts an async method that takes a user message string as param and returns another bot reply string.</p>
<h1 id="toc-section-2"><a href="#integrating-tarka-chat-with-reactvue-apps" aria-hidden="true"><span class="icon icon-link"></span></a>Integrating Tarka Chat with React/Vue apps</h1>
<p>In most cases, using Tarka Chat in React or other JS frameworks is pretty simple — you can simply import the script in the root HTML file and initialize from inside the JS app. With this approach, you can store and use the chat reference and its associated methods with your app. You can also use the preChatRenderer to show a welcome screen or something similar.</p>
<p>The shortcoming with this approach comes to light when you want to add reactivity inside the chat UI. For example, let’s consider the following scenario:</p>
<ol>
<li>Fetch a list from an API asynchronously, while showing a loading message in the pre-chat screen</li>
<li>After fetching the list, render the list items as buttons in the pre-chat screen</li>
<li>Clicking a list item button closes the pre-chat screen and moves to the chat screen</li>
<li>Each time the user sends a message, the list item that the user selected with the button is also sent to the server</li>
</ol>
<p>How exactly do we implement this in Tarka chat? For simple stuff like this, we could go with direct DOM manipulation, keeping it separated from the JS framework.
But what if we want another screen with sub lists, and then another screen? When the complexity grows, we can initialise the JS framework inside Tarka Chat.
We’ll go through both the approaches below.</p>
<h1 id="toc-section-3"><a href="#direct-dom-manipulation" aria-hidden="true"><span class="icon icon-link"></span></a>Direct DOM Manipulation:</h1>
<p>This approach is pretty self-explanatory. The pre-chat render method which is passed to Tarka Chat would look something like this:</p>
<div class="gridsome-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">renderPreChat</span><span class="token punctuation">(</span><span class="token parameter">closePreChat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  container<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">"my-prechat"</span><span class="token punctuation">;</span>
  container<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"Loading..."</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">addItemToDOM</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    button<span class="token punctuation">.</span>innerText <span class="token operator">=</span> item<span class="token punctuation">;</span>
    button<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"selected-list-item"</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">closePreChat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">loadListFromApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
    <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">list</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      container<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
      list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>addItemToDOM<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
    <span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      container<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"Failed to load data"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> container<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>And my message submit handler looked something like this:</p>
<div class="gridsome-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">onMessageSubmit</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> selectedListItem <span class="token operator">=</span> localStoage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"selected-list-item"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> selectedListItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h1 id="toc-section-4"><a href="#initialising-react-inside-tarka-chat" aria-hidden="true"><span class="icon icon-link"></span></a>Initialising React inside Tarka Chat</h1>
<p>A really simple approach that can solve this issue is to initialise React inside the pre-chat screen. In simpler terms, the DOM node returned by the function associated to preChatRenderer property can be initialised as a React root (kind of like a new React app). This is the container that is later returned by the <code class="language-inline-text">renderPreChat</code> method.</p>
<div class="gridsome-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">renderPreChat</span><span class="token punctuation">(</span><span class="token parameter">closePreChat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createRoot</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>PreChat onClose<span class="token operator">=</span><span class="token punctuation">{</span>closePreChat<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> container<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Here, React is given control of the DOM container for pre-chat. So, the <code class="language-inline-text">PreChat</code> component can contain a full blown React application inside it.</p>
<h1 id="toc-section-5"><a href="#same-but-in-vue" aria-hidden="true"><span class="icon icon-link"></span></a>Same, but in Vue</h1>
<p>For adding Tarka Chat in Vue, the approach is similar — creating a DOM element as container and handing it over to Vue. Vue has changed a lot between Vue 2 and Vue 3, including how app initialization is done. So, we’ll go over both implementations here.</p>
<h2 id="vue-2--constructor"><a href="#vue-2--constructor" aria-hidden="true"><span class="icon icon-link"></span></a>Vue 2 — constructor</h2>
<p>Vue 2 replaces the root node with the component template. This can mess up with class attributes that Tarka Chat sets on the returned container. So, we can do this:</p>
<div class="gridsome-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">renderPreChat</span><span class="token punctuation">(</span><span class="token parameter">closePreChat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> vueRoot <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>vueRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> vueRoot<span class="token punctuation">,</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token operator">=></span>
      <span class="token function">createElement</span><span class="token punctuation">(</span>PreChat<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">onClose</span><span class="token operator">:</span> closePreChat <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> container<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Here, you can notice the extra child div <code class="language-inline-text">vueRoot</code> which acts like an expendable for Vue initialisation.</p>
<h2 id="vue-3--createapp-method"><a href="#vue-3--createapp-method" aria-hidden="true"><span class="icon icon-link"></span></a>Vue 3 — createApp method</h2>
<p>Vue 3 replaced constructor approach with a <a href="https://vuejs.org/guide/essentials/application.html#the-application-instance" target="_blank" rel="nofollow noopener noreferrer">createApp method</a> for Vue app initialisation which looks like this:</p>
<div class="gridsome-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">renderPreChat</span><span class="token punctuation">(</span><span class="token parameter">closePreChat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">createApp</span><span class="token punctuation">(</span>PreChat<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> container<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Unlike Vue 2, we don’t have to add a separate child DOM node for initialising the app. This is because Vue 3 doesn’t replace the DOM node which is used for initialising Vue app, but rather initialises the Vue app as a child of the DOM node.</p>
<h1 id="toc-section-6"><a href="#conclusion" aria-hidden="true"><span class="icon icon-link"></span></a>Conclusion</h1>
<p>These are some of the simplest, direct approaches I can think of. There might be other approaches using Refs and stuff. Let me know in the comments if you think another approach would have been better.</p>
<p>Also a <strong>Disclaimer</strong> — At the time of writing this blog, the latest version of Tarka Chat was <code class="language-inline-text">2.4.4</code> as per its Github releases. There might be a few changes if the version has changed. Make sure to take a look at its README and make appropriate changes.</p>
<p>Additionally, Tarka Chat is a pretty good library for plugging in a chatbot. And it could be a whole lot better with more developer feedback. So, here is the Github link to it in case you want to give it a try (I hope you do) — <a href="https://github.com/tarkalabs/tarka-chat" target="_blank" rel="nofollow noopener noreferrer">https://github.com/tarkalabs/tarka-chat</a></p>
</div><hr data-v-996dafb6><div class="inner-section" data-v-996dafb6><div class="author-basic-info" data-v-996dafb6><img src="/assets/img/shamil.116f5579.png" alt="Shamil Siddique" width="64" data-v-996dafb6><div data-v-996dafb6><p class="heading-size-9 capitalize" data-v-996dafb6>Shamil Siddique</p><p class="body-jetbrains-size-10" data-v-996dafb6>
            Developer
          </p></div></div><p class="body-opensans-size-9" data-v-996dafb6>He is still thinking what to write about him</p><div class="social-links" data-v-996dafb6><!----><!----><a href="https://medium.com/@shamilsdq" target="_blank" class="heading-size-9" data-v-996dafb6>
          Medium
        </a></div></div><hr data-v-996dafb6><div class="related-articles" data-v-996dafb6><div class="flex-space-between" data-v-996dafb6><p class="heading-size-7" data-v-996dafb6>_related articles</p><a href="/blogs" class="heading-size-9 underline" data-v-996dafb6>View all</a></div><div class="flex-space-between blog-card-wrapper" data-v-996dafb6><a href="/blogs/building-scalable-ingestion-pipeline-rust" class="blog-card" data-v-996dafb6><img src="/assets/img/pipeline-cover.4796ea68.webp" alt="" class="thumbnail" data-v-996dafb6><div class="info" data-v-996dafb6><p class="heading-size-10 capitalize" data-v-996dafb6>/web</p><h3 data-v-996dafb6>Building a Scalable Ingestion Pipeline with Rust</h3><p class="body-jetbrains-size-10" data-v-996dafb6>
              Dhruva Sagar   5 min read
            </p></div></a><a href="/blogs/inserting-millions-of-records-in-java" class="blog-card" data-v-996dafb6><img src="/assets/img/image-2.d7113a92.webp" alt="Inserting Millions of Records in Java: Strategies and Benchmarks" class="thumbnail" data-v-996dafb6><div class="info" data-v-996dafb6><p class="heading-size-10 capitalize" data-v-996dafb6>/web</p><h3 data-v-996dafb6>Inserting Millions of Records in Java: Strategies and Benchmarks</h3><p class="body-jetbrains-size-10" data-v-996dafb6>
              Kesavan   11 min read
            </p></div></a></div></div><div class="lets-talk" data-v-188e6a71><div class="message heading-size-7" data-v-188e6a71>
    Let’s build digital solutions together.
  </div><div class="action-container" data-v-188e6a71><div class="action-button heading-size-5" data-v-188e6a71><div data-v-188e6a71>Get in touch</div><div class="arrow" data-v-188e6a71>-&gt;</div></div><img src="/assets/img/talk.71d1d2f3.svg" alt="Lenny Face" data-v-188e6a71></div></div></div></div><div data-v-996dafb6></div></div><div id="footer" class="baseLayout" data-v-996dafb6 data-v-71a2ecff><div data-v-996dafb6></div><div data-v-996dafb6><div class="site-footer" data-v-0a037a4b data-v-71a2ecff><ul class="main-nav footer" data-v-1c6945ef data-v-0a037a4b><div class="primary fadeIn" data-v-1c6945ef><li data-v-1c6945ef><a href="/music-tech" data-v-1c6945ef>/MusicTech</a></li><li data-v-1c6945ef><a href="/health-care-tech" data-v-1c6945ef>/HealthCareTech</a></li><li data-v-1c6945ef><a href="/genai" data-v-1c6945ef>/GenAI</a></li><li data-v-1c6945ef><a href="https://solutions.tarkalabs.com/design/" target="_self" data-v-1c6945ef>/Design</a></li><li data-v-1c6945ef><a href="/develop" data-v-1c6945ef>/Develop</a></li><li data-v-1c6945ef><a href="/case-studies" data-v-1c6945ef>
        /Case_Studies
      </a></li><li data-v-1c6945ef><a href="/careers" data-v-1c6945ef>/Careers</a></li><li data-v-1c6945ef><a href="/about" data-v-1c6945ef>/About</a></li><li data-v-1c6945ef><a href="/contact" data-v-1c6945ef>/Contact</a></li></div></ul><div class="subnav" data-v-0a037a4b><ul class="sub body-jetbrains-size-11 footer fadeIn" data-v-3cc3824e data-v-0a037a4b><li data-v-3cc3824e><a href="/blogs" class="active" data-v-3cc3824e>/blogs</a></li><li data-v-3cc3824e><a href="/talks" data-v-3cc3824e>/talks</a></li><li data-v-3cc3824e><a href="/train" data-v-3cc3824e>/train</a></li></ul><div data-v-fae945d8 data-v-0a037a4b><a href="https://twitter.com/tarkalabs" target="_blank" rel="noopener" class="external" data-v-fae945d8>Twitter</a><a href="https://in.linkedin.com/company/tarka-labs" target="_blank" rel="noopener" class="external" data-v-fae945d8>LinkedIn</a></div><div class="sedin" data-v-0a037a4b><a href="https://sedintechnologies.com/" target="_blank" rel="noopener" class="external" data-v-0a037a4b>Tarka Labs is a division of Sedin Technologies</a></div></div></div></div><div data-v-996dafb6></div></div></div></div></div>
    <script src="/assets/js/app.5549cb77.js" defer></script><script src="/assets/js/page--src--templates--blog-vue.18adb478.js" defer></script><script data-vue-tag="ssr" src="https://unpkg.com/@lottiefiles/lottie-player@0.4.0/dist/lottie-player.js" data-body="true"></script>
  </body>
</html>
