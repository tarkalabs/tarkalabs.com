<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>All You Need To Know About Comments in Ruby · Tarka Labs - Tarka Labs</title><meta name="gridsome:hash" content="1649211d25fe75c28e001e17d54192a916c09cd4"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="viewport" content="width=device-width, initial-scale=1.0"><meta data-vue-tag="ssr" property="og:title" content="All You Need To Know About Comments in Ruby · Tarka Labs"><meta data-vue-tag="ssr" property="og:description" content="All You Need To Know About Comments in Ruby"><meta data-vue-tag="ssr" property="og:image" content="/assets/img/header.90a4dbd9.webp"><meta data-vue-tag="ssr" property="og:image:height" content="627"><meta data-vue-tag="ssr" property="og:image:width" content="1200"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.92f6d0f06feb6aec5e019521ff224fd8.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.92f6d0f06feb6aec5e019521ff224fd8.png"><link rel="preload" href="/assets/css/0.styles.d3380898.css" as="style"><link rel="preload" href="/assets/js/app.0e5d4a8b.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--blog-vue.2099f288.js" as="script"><link rel="stylesheet" href="/assets/css/0.styles.d3380898.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
    <meta
      name="google-site-verification"
      content="j7cLUK-kxGEpMOY7valSkamH4kQe_l38yMMAXbpk19U"
    />
    <noscript>
      <div class="noscript-container">
        <a href="/" class="noscript-logo">Tarka <br />_Labs</a>
        <div class="noscript-text-container">
          <h1>Uh oh! Looks like <span>JavaScript</span> is disabled.</h1>
          <p>
            Bitman requires <span>JavaScript</span> to fuel his thirst to end
            bad UX and lazy design, which is necessary to give you the best
            viewing experience possible. Please enable it to continue to our
            website.
          </p>
        </div>
      </div>
    </noscript>
  </head>

  <body >
    <div><div id="app" data-server-rendered="true" data-v-b5a9baaa><div data-v-b5a9baaa><div id="banner-section" data-v-b5a9baaa><div class="banner" style="background:;display:none;" data-v-b5a9baaa><div class="layout" data-v-b5a9baaa><div data-v-b5a9baaa></div><div class="hero heading-size-5" style="color:#ffffff;" data-v-b5a9baaa></div><div data-v-b5a9baaa></div></div></div><div data-v-b5a9baaa></div></div><div class="sidebar" data-v-d6d2017e data-v-b5a9baaa><div class="nav" data-v-d6d2017e><div class="fixed" data-v-d6d2017e><a href="/" data-v-9b1a4c9c data-v-d6d2017e> TARKA<br data-v-9b1a4c9c>_LABS </a><div class="menu" data-v-50705736 data-v-d6d2017e><div class="control" style="stroke:black;" data-v-50705736><div class="spinner heading-size-9" data-v-02ea7230 data-v-50705736><span class="side-menu-symbol" data-v-02ea7230><span class="menu-symbol rotate180t90" data-v-02ea7230><svg height="10" width="10" data-v-02ea7230><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-02ea7230></line></svg></span><span class="menu-symbol rotate90t0" data-v-02ea7230><svg height="10" width="10" data-v-02ea7230><line x1="0" y1="5" x2="10" y2="5" style="stroke-width: 2" data-v-02ea7230></line></svg></span></span><span style="vertical-align: middle" data-v-02ea7230> menu </span></div><div class="active-page body-jetbrains-size-11 fade-in" data-v-128e5feb data-v-50705736>
  
</div></div><div class="items hidden" data-v-50705736><ul class="main-nav" data-v-748716d7 data-v-50705736><div class="primary fadeOut sidebar" data-v-748716d7><li data-v-748716d7><a href="/genai" data-v-748716d7>/GenAI</a></li><li data-v-748716d7><a href="https://design.tarkalabs.com/" target="_self" data-v-748716d7>/Design</a></li><li data-v-748716d7><a href="/develop" data-v-748716d7>/Develop</a></li><li data-v-748716d7><a href="/case-studies" data-v-748716d7>
        /Case_Studies
      </a></li><li data-v-748716d7><a href="/careers" data-v-748716d7>/Careers</a></li><li data-v-748716d7><a href="/about" data-v-748716d7>/About</a></li><li data-v-748716d7><a href="/contact" data-v-748716d7>/Contact</a></li></div></ul><ul class="sub body-jetbrains-size-11 fadeOut sidebar" data-v-3cc3824e data-v-50705736><li data-v-3cc3824e><a href="/blogs" class="active" data-v-3cc3824e>/blogs</a></li><li data-v-3cc3824e><a href="/talks" data-v-3cc3824e>/talks</a></li><li data-v-3cc3824e><a href="/train" data-v-3cc3824e>/train</a></li></ul></div></div><a href="/contact" class="heading-size-9" data-v-573e12d8 data-v-d6d2017e>
  Get in<br data-v-573e12d8>touch<span class="arrow" data-v-573e12d8>-&gt;</span></a></div></div><!----></div><div class="baseLayout" data-v-996dafb6 data-v-b5a9baaa><div data-v-996dafb6></div><div data-v-996dafb6><div class="blog-details-page" data-v-996dafb6><div class="inner-section" data-v-996dafb6><p class="heading-size-10 capitalize" data-v-996dafb6>
        /web - 5 min read
      </p><h1 class="title" data-v-996dafb6>All You Need To Know About Comments in Ruby</h1><div class="author-basic-info" data-v-996dafb6><img src="/assets/img/bitman.9f5fc4e7.png" alt="Sreedev Kodichath" width="64" data-v-996dafb6><div data-v-996dafb6><p class="heading-size-9 capitalize" data-v-996dafb6>Sreedev Kodichath</p><p class="body-jetbrains-size-10" data-v-996dafb6>
            A tarkan
          </p></div></div></div><img src="/assets/img/header.90a4dbd9.webp" alt="All You Need To Know About Comments in Ruby" class="header-img" data-v-996dafb6><div class="toc-wrapper" data-v-996dafb6><h2 class="heading-size-7" data-v-996dafb6>Table of contents</h2><div class="toc" data-v-996dafb6><a href="#content" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/01</p><p data-v-996dafb6>Intro</p></a><a href="#toc-section-1" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/02</p><p data-v-996dafb6>Shebang Comments</p></a><a href="#toc-section-2" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/03</p><p data-v-996dafb6>Multi-line Comments</p></a><a href="#toc-section-3" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/04</p><p data-v-996dafb6>Indentation Warning Comment</p></a><a href="#toc-section-4" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/05</p><p data-v-996dafb6>Frozen String Literal Comment</p></a><a href="#toc-section-5" class="heading-size-9 heading" data-v-996dafb6><p data-v-996dafb6>/06</p><p data-v-996dafb6>File Encoding Comment</p></a></div></div><div id="content" class="content" data-v-996dafb6><p>It is well known that the ruby comments are used to leave notes or micro-docs within the code and is ignored by the Ruby Interpreter. But can we do other things with comments?</p>
<img src="/blog/all-you-need-to-know-about-comments-in-ruby/1.gif">
<p>There are several other functions that comments can offer. In this article, we shall dive into some of the use cases of comments that can have certain desirable impacts on the Ruby interpreter. Each use case has been explained in detail making it easier for even beginners to understand.</p>
<h1 id="toc-section-1"><a href="#shebang-comments" aria-hidden="true"><span class="icon icon-link"></span></a>Shebang Comments</h1>
<p>Shebang is a “comment” that indicates the interpreter directive for the interpreter to be used when the file is run as an executable in *nix operating systems. This specific comment is not unique to Ruby. Many scripting languages make use of the shebang to make scripts executable in a simple manner.</p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token comment">#!/usr/bin/ruby</span></code></pre></div>
<p>in addition to specifying the interpreter directive, you can also specify the flags like ` — jit` or `-w` which will automatically be passed on to the interpreter when the executable is run. Let’s take a look at how this can be done:</p>
<p>create a new file “<strong><em>text_executable</em></strong>” with the following lines:</p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token comment">#!/usr/bin/ruby - jit</span>
puts <span class="token string-literal"><span class="token string">"Running Executable"</span></span></code></pre></div>
<p>now, to make this file an executable, we need to provide the execute permission to the file using the following command:</p>
<div class="gridsome-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ <span class="token function">sudo</span> <span class="token function">chmod</span> +x ./text_executable</code></pre></div>
<p>voila! your file is now an executable that will be run using the ruby interpreter. You can run it by:</p>
<div class="gridsome-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">$ ./test_executable</code></pre></div>
<img src="/blog/all-you-need-to-know-about-comments-in-ruby/2.gif">
<p>You’ll see the <em>“Running Executable”</em> output printed.</p>
<h1 id="toc-section-2"><a href="#multi-line-comments" aria-hidden="true"><span class="icon icon-link"></span></a>Multi-line Comments</h1>
<p>Normally when we specify multi-line comments, we just stick to adding a ‘<strong><em>#</em></strong>’ sign in front of each line. This though not incorrect, can be replaced with a better way to write multi-line comments. Here is how you can achieve that:</p>
<div class="gridsome-highlight" data-language="text"><pre class="language-text"><code class="language-text">=begin
  Welcome
  To
  Tarkalabs
=end

puts "Commented"</code></pre></div>
<p>This makes the multi-line comments look much cleaner especially if you have more than 3–4 lines of comments to specify. Another way you can add multi-line comments <strong>AT THE END OF THE FILE</strong> is as follows:</p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token comment">#!/usr/bin/ruby</span>
puts<span class="token punctuation">(</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>now<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'%d/%m/%Y - %I:%M:%S'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>


__END__
Text after the __END__ is completely ignored by the interpreter<span class="token punctuation">.</span>
So line is treated as comment<span class="token punctuation">.</span></code></pre></div>
<p>The other option to add multi-line micro-doc in your code is by using a docstring. Docstrings are treated as string literals by ruby. Though this is not technically a comment, it is often used by developers to embed code documentation within the code.</p>
<h1 id="toc-section-3"><a href="#indentation-warning-comment" aria-hidden="true"><span class="icon icon-link"></span></a>Indentation Warning Comment</h1>
<p>You see how ruby interpreter ignores all your indentation errors? This is done to keep the error reporting clean. But if you wish to see all the indentation error warnings, you can add this little magic comment to the top of your ruby script:</p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token comment"># warn_indent: true</span></code></pre></div>
<p>Once you have this enabled, you will start seeing warnings when there are problematic indentations in your code.</p>
<p>Let’s take a look at the difference in the output of the following program before and after enabling the `<strong>#warn_indent: true</strong>` magic comment:
</p><div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token comment">#!/usr/bin/ruby</span>
<span class="token keyword">def</span>
  <span class="token method-definition"><span class="token function">improperly_indented_method</span></span>
          <span class="token keyword">end</span></code></pre></div>
<p><strong>BEFORE ENABLING WARN_INDENT</strong></p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token constant">NO</span> <span class="token constant">OUTPUT</span></code></pre></div>
<p><strong>AFTER ENABLING WARN_INDENT</strong></p>
<div class="gridsome-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">./test_executable:5: warning: mismatched indentations at <span class="token string">'end'</span> with <span class="token string">'def'</span> at <span class="token number">4</span></code></pre></div>
<h1 id="toc-section-4"><a href="#frozen-string-literal-comment" aria-hidden="true"><span class="icon icon-link"></span></a>Frozen String Literal Comment</h1>
<p>In ruby, by default, all string literals are treated as mutable and every time you create a new string literal with the same content/text, multiple objects are instantiated. This is one of the main reasons for increased memory consumption in ruby programs.</p>
<p>There is a comment that you can add to the top of your file that will make the ruby interpreter treat all string literals are frozen objects. This way, the same string is never instantiated twice.</p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token comment"># frozen_string_literal: true</span></code></pre></div>
<p>Keep in mind that if you contradicting frozen_string_literal values set in multiple places in your script, the last declaration is what is taken into consideration by the Ruby Interpreter.</p>
<p>Adding this comment has shown up to 20% decrease in memory consumption on most of the code that it was tested on.</p>
<p>Let’s take a closer look at the difference in the way ruby instantiates string literal before and after usage of the frozen_string_literal comment.</p>
<p><strong>Without frozen string literals</strong></p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token string-literal"><span class="token string">'sample_text'</span></span><span class="token punctuation">.</span>object_id <span class="token comment">#=> 46930852813020</span>
<span class="token string-literal"><span class="token string">'sample_text'</span></span><span class="token punctuation">.</span>object_id <span class="token comment">#=> 46930852812880</span></code></pre></div>
<p><strong>With frozen string literals</strong></p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token string-literal"><span class="token string">'sample_text'</span></span><span class="token punctuation">.</span>object_id   <span class="token comment">#=> 47317296507240</span>
<span class="token string-literal"><span class="token string">'sample_text'</span></span><span class="token punctuation">.</span>object_id   <span class="token comment">#=> 47317296507240</span></code></pre></div>
<p>As you can see, new objects are not instantiated every time a string literal is declared. The previous instance of that variant of the string is utilized.</p>
<h1 id="toc-section-5"><a href="#file-encoding-comment" aria-hidden="true"><span class="icon icon-link"></span></a>File Encoding Comment</h1>
<p>As of ruby 2.0, the default encoding set by the ruby interpreter for the any string is UTF-8. Back when 1.9.x was a thing, ruby used US-ASCII by default. It is possible to change the encoding set by the interpreter using, yes you guessed it right. Yet another magic comment!</p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token comment"># encoding: ISO-8859-1</span></code></pre></div>
<p>Depending on your requirement, you can set the encoding that’s appropriate for you.</p>
<p>Another format of the file encoding comment is as follows:</p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token operator">-</span><span class="token operator">*</span><span class="token operator">-</span> encoding<span class="token operator">:</span> <span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span> <span class="token operator">-</span><span class="token operator">*</span><span class="token operator">-</span></code></pre></div>
<p>Both of the above formats work in the same way, but if you want another developer reading the file to know that the encoding has been changed in a not-so-subtle way, the second format would be your best bet.</p>
<p>Please note that if you have multiple encoding magic comments in your file, only the first comment will be parsed by the interpreter. the rest of the encoding comments will be ignored.</p>
<p>consider the following piece of code:</p>
<div class="gridsome-highlight" data-language="rb"><pre class="language-rb"><code class="language-rb"><span class="token comment">#!/usr/bin/ruby --jit</span>
<span class="token comment"># encoding: ASCII</span>

puts <span class="token string-literal"><span class="token string">"Olé!"</span></span><span class="token punctuation">.</span>encoding
puts <span class="token string-literal"><span class="token string">"Olé!"</span></span></code></pre></div>
<p>The above program will throw an error because <strong>é</strong> is an invalid ASCII character. The error will look like this:</p>
<div class="gridsome-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">./test_executable:4: invalid multibyte char <span class="token punctuation">(</span>US-ASCII<span class="token punctuation">)</span>
./test_executable:4: invalid multibyte char <span class="token punctuation">(</span>US-ASCII<span class="token punctuation">)</span>
./test_executable:5: invalid multibyte char <span class="token punctuation">(</span>US-ASCII<span class="token punctuation">)</span>
./test_executable:5: invalid multibyte char <span class="token punctuation">(</span>US-ASCII<span class="token punctuation">)</span></code></pre></div>
<p>The same piece of code if run with the UTF-8 encoding, will output the following:</p>
<div class="gridsome-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">UTF-8

Olé<span class="token operator">!</span></code></pre></div>
<p>The following are the different encodings supported by the ruby interpreter:</p>
<figure><img src="/blog/all-you-need-to-know-about-comments-in-ruby/3.webp" alt="String Encodings Supported By Ruby"><figcaption>String Encodings Supported By Ruby</figcaption></figure>
<p>These comments will help you achieve an additional level of control over how the ruby interpreter treats your code. Hope this was a informative read to you. Happy Rubying!</p>
</div><hr data-v-996dafb6><div class="inner-section" data-v-996dafb6><div class="author-basic-info" data-v-996dafb6><img src="/assets/img/bitman.9f5fc4e7.png" alt="Sreedev Kodichath" width="64" data-v-996dafb6><div data-v-996dafb6><p class="heading-size-9 capitalize" data-v-996dafb6>Sreedev Kodichath</p><p class="body-jetbrains-size-10" data-v-996dafb6>
            A tarkan
          </p></div></div><p class="body-opensans-size-9" data-v-996dafb6></p><div class="social-links" data-v-996dafb6><!----><!----><a href="https://sreedevk.medium.com/" target="_blank" class="heading-size-9" data-v-996dafb6>
          Medium
        </a></div></div><hr data-v-996dafb6><div class="related-articles" data-v-996dafb6><div class="flex-space-between" data-v-996dafb6><p class="heading-size-7" data-v-996dafb6>_related articles</p><a href="/blogs" class="heading-size-9 underline" data-v-996dafb6>View all</a></div><div class="flex-space-between blog-card-wrapper" data-v-996dafb6><a href="/blogs/smart-contracts-store-information" class="blog-card" data-v-996dafb6><img src="/assets/img/default-cover.55254b66.png" alt="Blockchain FTW" class="thumbnail" data-v-996dafb6><div class="info" data-v-996dafb6><p class="heading-size-10 capitalize" data-v-996dafb6>/web</p><h3 data-v-996dafb6>Blockchain as public ledger</h3><p class="body-jetbrains-size-10" data-v-996dafb6>
              Rahul Nitin Padalkar   5 min read
            </p></div></a><a href="/blogs/using-tarka-chat-in-your-react-vue-apps" class="blog-card" data-v-996dafb6><img src="/assets/img/Photo-by-Volodymyr-Hryshchenko-on-Unsplash.97698903.webp" alt="Using Tarka Chat in your React/Vue apps" class="thumbnail" data-v-996dafb6><div class="info" data-v-996dafb6><p class="heading-size-10 capitalize" data-v-996dafb6>/web</p><h3 data-v-996dafb6>Using Tarka Chat in your React/Vue apps</h3><p class="body-jetbrains-size-10" data-v-996dafb6>
              Shamil Siddique   5 min read
            </p></div></a></div></div><div class="lets-talk" data-v-188e6a71><div class="message heading-size-7" data-v-188e6a71>
    Let’s build digital solutions together.
  </div><div class="action-container" data-v-188e6a71><div class="action-button heading-size-5" data-v-188e6a71><div data-v-188e6a71>Get in touch</div><div class="arrow" data-v-188e6a71>-&gt;</div></div><img src="/assets/img/talk.71d1d2f3.svg" alt="Lenny Face" data-v-188e6a71></div></div></div></div><div data-v-996dafb6></div></div><div id="footer" class="baseLayout" data-v-996dafb6 data-v-b5a9baaa><div data-v-996dafb6></div><div data-v-996dafb6><div class="site-footer" data-v-0a037a4b data-v-b5a9baaa><ul class="main-nav footer" data-v-748716d7 data-v-0a037a4b><div class="primary fadeIn" data-v-748716d7><li data-v-748716d7><a href="/genai" data-v-748716d7>/GenAI</a></li><li data-v-748716d7><a href="https://design.tarkalabs.com/" target="_self" data-v-748716d7>/Design</a></li><li data-v-748716d7><a href="/develop" data-v-748716d7>/Develop</a></li><li data-v-748716d7><a href="/case-studies" data-v-748716d7>
        /Case_Studies
      </a></li><li data-v-748716d7><a href="/careers" data-v-748716d7>/Careers</a></li><li data-v-748716d7><a href="/about" data-v-748716d7>/About</a></li><li data-v-748716d7><a href="/contact" data-v-748716d7>/Contact</a></li></div></ul><div class="subnav" data-v-0a037a4b><ul class="sub body-jetbrains-size-11 footer fadeIn" data-v-3cc3824e data-v-0a037a4b><li data-v-3cc3824e><a href="/blogs" class="active" data-v-3cc3824e>/blogs</a></li><li data-v-3cc3824e><a href="/talks" data-v-3cc3824e>/talks</a></li><li data-v-3cc3824e><a href="/train" data-v-3cc3824e>/train</a></li></ul><div data-v-fae945d8 data-v-0a037a4b><a href="https://twitter.com/tarkalabs" target="_blank" rel="noopener" class="external" data-v-fae945d8>Twitter</a><a href="https://in.linkedin.com/company/tarka-labs" target="_blank" rel="noopener" class="external" data-v-fae945d8>LinkedIn</a></div><div class="sedin" data-v-0a037a4b><a href="https://sedintechnologies.com/" target="_blank" rel="noopener" class="external" data-v-0a037a4b>Tarka Labs is a division of Sedin Technologies</a></div></div></div></div><div data-v-996dafb6></div></div></div></div></div>
    <script src="/assets/js/app.0e5d4a8b.js" defer></script><script src="/assets/js/page--src--templates--blog-vue.2099f288.js" defer></script><script data-vue-tag="ssr" src="https://unpkg.com/@lottiefiles/lottie-player@0.4.0/dist/lottie-player.js" data-body="true"></script>
  </body>
</html>
